<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/"><channel><title>Louis Tiao (bootstrap)</title><link>http://ltiao.github.io/</link><description></description><atom:link href="http://ltiao.github.io/tags/bootstrap.xml" type="application/rss+xml" rel="self"></atom:link><language>en</language><lastBuildDate>Thu, 01 Oct 2015 07:44:23 GMT</lastBuildDate><generator>https://getnikola.com/</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Creating a Nikola theme with Sass-compiled Bootstrap</title><link>http://ltiao.github.io/posts/creating-a-nikola-theme-with-sass-compiled-bootstrap.html</link><dc:creator>Louis Tiao</dc:creator><description>&lt;div&gt;&lt;div class="section" id="initializing-the-theme"&gt;
&lt;h2&gt;Initializing the Theme&lt;/h2&gt;
&lt;p&gt;First, create a new Nikola theme. The way I like to do this is by creating a
&lt;a class="reference external" href="https://github.com/new"&gt;new repository on Github&lt;/a&gt; so that it can be initialized with a README,
LICENSE, &lt;tt class="docutils literal"&gt;.gitignore&lt;/tt&gt;, etc. Next, clone the newly created repo into
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;&amp;lt;site-root&amp;gt;/themes&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;The bare minimum requirement for a Nikola theme is that it include a
&lt;tt class="docutils literal"&gt;parent&lt;/tt&gt; file. Since our theme just uses our own extended and customized
Bootstrap, it makes sense to inherit from &lt;tt class="docutils literal"&gt;bootstrap3&lt;/tt&gt; or its &lt;a class="reference external" href="http://jinja.pocoo.org/"&gt;Jinja2&lt;/a&gt;
port, &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;bootstrap3-jinja&lt;/span&gt;&lt;/tt&gt;. I much prefer Jinja2 over &lt;a class="reference external" href="http://www.makotemplates.org/"&gt;Mako&lt;/a&gt;, so we shall opt
for the latter. It goes without saying that everything outlined below can
trivially be made to work for Mako.&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_3b9723648e6f4b6fa1ad993e16dbee2f-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; &lt;span class="nb"&gt;cd&lt;/span&gt; &amp;lt;site-root&amp;gt;/themes/&amp;lt;repo-root&amp;gt;
&lt;a name="rest_code_3b9723648e6f4b6fa1ad993e16dbee2f-2"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;"bootstrap3-jinja"&lt;/span&gt; &amp;gt; parent
&lt;/pre&gt;&lt;p&gt;The following is not strictly required, but is good practice (explicit is
better than implicit). We specify Jinja2 as the template engine.&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_86f638264a554847961376176a4408d4-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;"jinja"&lt;/span&gt; &amp;gt; engine
&lt;/pre&gt;&lt;p&gt;Note that our theme is going to be very similar to
&lt;a class="reference external" href="https://themes.getnikola.com/#bootstrap3-gradients-jinja"&gt;bootstrap3-gradients-jinja&lt;/a&gt;, which is a theme that uses
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;bootstrap-theme.css&lt;/span&gt;&lt;/tt&gt;, an optional Bootstrap stylesheet that includes
gradients and is touted by the Bootstrap developers as "providing a visually
enhanced experience".&lt;/p&gt;
&lt;p&gt;Not surprisingly, it is almost identical to the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;bootstrap3-jinja&lt;/span&gt;&lt;/tt&gt; theme.
The key difference is that is requires an additional stylesheet, so the
webassets bundle and &lt;tt class="docutils literal"&gt;html_stylesheets()&lt;/tt&gt; macro in &lt;tt class="docutils literal"&gt;base_helper.tmpl&lt;/tt&gt; must
be updated to reflect that. Our theme is going to be similar in that we use
our own customized Boostrap stylesheet, compiled from Sass. We will take care
of this later. For now, let us get our Sass workflow up and running.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="sass-workflow-in-nikola"&gt;
&lt;h2&gt;Sass workflow in Nikola&lt;/h2&gt;
&lt;p&gt;Create the &lt;tt class="docutils literal"&gt;sass&lt;/tt&gt; directory inside the root of the repo&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_e40a2ffaa69f47f9a4369932071369e4-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; &lt;span class="nb"&gt;cd&lt;/span&gt; &amp;lt;site-root&amp;gt;/themes/&amp;lt;repo-root&amp;gt;
&lt;a name="rest_code_e40a2ffaa69f47f9a4369932071369e4-2"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; mkdir sass
&lt;/pre&gt;&lt;p&gt;Next, we must obtain the Sass sources for Bootstrap. There are many ways to do
this, either through Compass, Bower, directly from source, etc. I prefer to do
this through Bower.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;Install &lt;a class="reference external" href="http://blog.npmjs.org/post/85484771375/how-to-install-npm"&gt;npm&lt;/a&gt;, which is most easily done by installing &lt;a class="reference external" href="https://nodejs.org/"&gt;Node.js&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Install &lt;a class="reference external" href="http://bower.io/#install-bower"&gt;Bower&lt;/a&gt;&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_ca829c9d695d472ab317635f1e4d3836-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; npm install -g bower
&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Install &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;boostrap-sass&lt;/span&gt;&lt;/tt&gt; inside the &lt;tt class="docutils literal"&gt;sass&lt;/tt&gt; directory.&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_95a9ef05138a4024a8665049570c5504-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; &lt;span class="nb"&gt;cd&lt;/span&gt; &amp;lt;site-root&amp;gt;/themes/&amp;lt;repo-root&amp;gt;/sass
&lt;a name="rest_code_95a9ef05138a4024a8665049570c5504-2"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; bower install bootstrap-sass
&lt;/pre&gt;&lt;p&gt;You should now see all components installed in the &lt;tt class="docutils literal"&gt;bower_components&lt;/tt&gt;
directory.&lt;/p&gt;
&lt;p&gt;Now we create a SCSS file, call it say, &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;bootstrap-custom.scss&lt;/span&gt;&lt;/tt&gt;, which is the
primary file that we will be compiling to CSS. It will be the main entrypoint
that imports the Bootstrap sources, as well as any other customizations we
make. We create a file &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;_variables-custom.scss&lt;/span&gt;&lt;/tt&gt; to isolate all the
modifications we make to Bootstrap variables.&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_36a32b5590d742ef97e09adbdcb5fe7a-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; touch bootstrap-custom.scss
&lt;a name="rest_code_36a32b5590d742ef97e09adbdcb5fe7a-2"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; touch _variables-custom.scss
&lt;/pre&gt;&lt;p&gt;Note that Sass/SCSS files with leading underscores are &lt;cite&gt;partials&lt;/cite&gt;, which lets
Sass know that it is only a partial file and should not be compiled
(see &lt;a class="reference external" href="http://sass-lang.com/guide"&gt;http://sass-lang.com/guide&lt;/a&gt;). This doesn't really matter with Nikola since
we have to explicitly tell Nikola which files to pass on to the Sass compiler
anyways.&lt;/p&gt;
&lt;p&gt;Now we modify &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;bootstrap-custom.scss&lt;/span&gt;&lt;/tt&gt; to import our custom variables and the
Bootstrap sources&lt;/p&gt;
&lt;pre class="code scss"&gt;&lt;a name="rest_code_44f2bb6e372b4e019a50df6eb8f8ebfd-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;@import&lt;/span&gt; &lt;span class="s2"&gt;"variables-custom"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_44f2bb6e372b4e019a50df6eb8f8ebfd-2"&gt;&lt;/a&gt;&lt;span class="k"&gt;@import&lt;/span&gt; &lt;span class="s2"&gt;"bower_components/bootstrap-sass/assets/stylesheets/bootstrap"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;and create the &lt;tt class="docutils literal"&gt;targets&lt;/tt&gt; file, which lets Nikola know which files to pass on
to the Sass compiler (see &lt;a class="reference external" href="https://getnikola.com/theming.html#less-and-sass"&gt;https://getnikola.com/theming.html#less-and-sass&lt;/a&gt;).&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_358e6927925342179f6b5cbc611dcc49-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;"bootstrap-custom.scss"&lt;/span&gt; &amp;gt; sass/targets
&lt;/pre&gt;&lt;p&gt;Now, install the Nikola plugin for Sass.&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_17f65f357e0b406ca357091e161b39b0-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola plugin --install&lt;span class="o"&gt;=&lt;/span&gt;sass
&lt;/pre&gt;&lt;p&gt;If this plugin is not installed, Nikola will just silently ignore anything
in the &lt;tt class="docutils literal"&gt;sass&lt;/tt&gt; directory of your theme.&lt;/p&gt;
&lt;p&gt;Once the plugin has been installed successfully, you will be reminded to
&lt;a class="reference external" href="http://sass-lang.com/install"&gt;install Sass&lt;/a&gt;. If you haven't already done so, you can do so easily with
&lt;tt class="docutils literal"&gt;gem&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_941e3573da3242e490e6d256899a92b9-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; gem install sass
&lt;/pre&gt;&lt;p&gt;At this point, when you execute &lt;tt class="docutils literal"&gt;nikola build&lt;/tt&gt;, you will see the Bootstrap
Sass source files being processed by the &lt;tt class="docutils literal"&gt;prepare_sass_sources&lt;/tt&gt; task and the
final &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;output/assets/css/bootstrap-custom.css&lt;/span&gt;&lt;/tt&gt; built by the &lt;tt class="docutils literal"&gt;build_sass&lt;/tt&gt;
task:&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_1d008f78b269404ead156b14b3e1b1a7-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola build
&lt;a name="rest_code_1d008f78b269404ead156b14b3e1b1a7-2"&gt;&lt;/a&gt;&lt;span class="go"&gt;.  prepare_sass_sources:cache/sass/_variables-custom.scss&lt;/span&gt;
&lt;a name="rest_code_1d008f78b269404ead156b14b3e1b1a7-3"&gt;&lt;/a&gt;&lt;span class="go"&gt;.  prepare_sass_sources:cache/sass/bootstrap-custom.scss&lt;/span&gt;
&lt;a name="rest_code_1d008f78b269404ead156b14b3e1b1a7-4"&gt;&lt;/a&gt;&lt;span class="go"&gt;.  prepare_sass_sources:cache/sass/targets&lt;/span&gt;
&lt;a name="rest_code_1d008f78b269404ead156b14b3e1b1a7-5"&gt;&lt;/a&gt;&lt;span class="go"&gt;.  prepare_sass_sources:cache/sass/bower_components/bootstrap-sass/.bower.json&lt;/span&gt;
&lt;a name="rest_code_1d008f78b269404ead156b14b3e1b1a7-6"&gt;&lt;/a&gt;&lt;span class="go"&gt;.  prepare_sass_sources:cache/sass/bower_components/bootstrap-sass/bower.json&lt;/span&gt;
&lt;a name="rest_code_1d008f78b269404ead156b14b3e1b1a7-7"&gt;&lt;/a&gt;&lt;span class="go"&gt;.  prepare_sass_sources:cache/sass/bower_components/bootstrap-sass/CHANGELOG.md&lt;/span&gt;
&lt;a name="rest_code_1d008f78b269404ead156b14b3e1b1a7-8"&gt;&lt;/a&gt;&lt;span class="go"&gt;.  prepare_sass_sources:cache/sass/bower_components/bootstrap-sass/composer.json&lt;/span&gt;
&lt;a name="rest_code_1d008f78b269404ead156b14b3e1b1a7-9"&gt;&lt;/a&gt;&lt;span class="go"&gt;.  prepare_sass_sources:cache/sass/bower_components/bootstrap-sass/CONTRIBUTING.md&lt;/span&gt;
&lt;a name="rest_code_1d008f78b269404ead156b14b3e1b1a7-10"&gt;&lt;/a&gt;&lt;span class="go"&gt;.  prepare_sass_sources:cache/sass/bower_components/bootstrap-sass/LICENSE&lt;/span&gt;
&lt;a name="rest_code_1d008f78b269404ead156b14b3e1b1a7-11"&gt;&lt;/a&gt;&lt;span class="go"&gt;.  prepare_sass_sources:cache/sass/bower_components/bootstrap-sass/package.json&lt;/span&gt;
&lt;a name="rest_code_1d008f78b269404ead156b14b3e1b1a7-12"&gt;&lt;/a&gt;&lt;span class="go"&gt;.  prepare_sass_sources:cache/sass/bower_components/bootstrap-sass/README.md&lt;/span&gt;
&lt;a name="rest_code_1d008f78b269404ead156b14b3e1b1a7-13"&gt;&lt;/a&gt;&lt;span class="go"&gt;.  prepare_sass_sources:cache/sass/bower_components/bootstrap-sass/sache.json&lt;/span&gt;
&lt;a name="rest_code_1d008f78b269404ead156b14b3e1b1a7-14"&gt;&lt;/a&gt;&lt;span class="go"&gt;    ...&lt;/span&gt;
&lt;a name="rest_code_1d008f78b269404ead156b14b3e1b1a7-15"&gt;&lt;/a&gt;&lt;span class="go"&gt;.  build_sass:output/assets/css/bootstrap-custom.css&lt;/span&gt;
&lt;a name="rest_code_1d008f78b269404ead156b14b3e1b1a7-16"&gt;&lt;/a&gt;&lt;span class="go"&gt;    ...&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;A quick sanity check to confirm
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;&amp;lt;site-root&amp;gt;/themes/&amp;lt;repo-root&amp;gt;/sass/bootstrap-custom.scss&lt;/span&gt;&lt;/tt&gt; was compiled to
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;&amp;lt;site-root&amp;gt;/output/assets/css/bootstrap-custom.css&lt;/span&gt;&lt;/tt&gt; as expected.&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_f2f997d712eb4ce7bf89e476e76aaa21-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; head -15 output/assets/css/bootstrap-custom.css
&lt;a name="rest_code_f2f997d712eb4ce7bf89e476e76aaa21-2"&gt;&lt;/a&gt;&lt;span class="go"&gt;@charset "UTF-8";&lt;/span&gt;
&lt;a name="rest_code_f2f997d712eb4ce7bf89e476e76aaa21-3"&gt;&lt;/a&gt;&lt;span class="go"&gt;/*!&lt;/span&gt;
&lt;a name="rest_code_f2f997d712eb4ce7bf89e476e76aaa21-4"&gt;&lt;/a&gt;&lt;span class="go"&gt; * Bootstrap v3.3.5 (http://getbootstrap.com)&lt;/span&gt;
&lt;a name="rest_code_f2f997d712eb4ce7bf89e476e76aaa21-5"&gt;&lt;/a&gt;&lt;span class="go"&gt; * Copyright 2011-2015 Twitter, Inc.&lt;/span&gt;
&lt;a name="rest_code_f2f997d712eb4ce7bf89e476e76aaa21-6"&gt;&lt;/a&gt;&lt;span class="go"&gt; * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)&lt;/span&gt;
&lt;a name="rest_code_f2f997d712eb4ce7bf89e476e76aaa21-7"&gt;&lt;/a&gt;&lt;span class="go"&gt; */&lt;/span&gt;
&lt;a name="rest_code_f2f997d712eb4ce7bf89e476e76aaa21-8"&gt;&lt;/a&gt;&lt;span class="go"&gt;/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */&lt;/span&gt;
&lt;a name="rest_code_f2f997d712eb4ce7bf89e476e76aaa21-9"&gt;&lt;/a&gt;&lt;span class="go"&gt;html {&lt;/span&gt;
&lt;a name="rest_code_f2f997d712eb4ce7bf89e476e76aaa21-10"&gt;&lt;/a&gt;&lt;span class="go"&gt;  font-family: sans-serif;&lt;/span&gt;
&lt;a name="rest_code_f2f997d712eb4ce7bf89e476e76aaa21-11"&gt;&lt;/a&gt;&lt;span class="go"&gt;  -ms-text-size-adjust: 100%;&lt;/span&gt;
&lt;a name="rest_code_f2f997d712eb4ce7bf89e476e76aaa21-12"&gt;&lt;/a&gt;&lt;span class="go"&gt;  -webkit-text-size-adjust: 100%; }&lt;/span&gt;
&lt;a name="rest_code_f2f997d712eb4ce7bf89e476e76aaa21-13"&gt;&lt;/a&gt;
&lt;a name="rest_code_f2f997d712eb4ce7bf89e476e76aaa21-14"&gt;&lt;/a&gt;&lt;span class="go"&gt;body {&lt;/span&gt;
&lt;a name="rest_code_f2f997d712eb4ce7bf89e476e76aaa21-15"&gt;&lt;/a&gt;&lt;span class="go"&gt;  margin: 0; }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="update-templates-to-use-sass-compiled-css"&gt;
&lt;h2&gt;Update templates to use Sass-compiled CSS&lt;/h2&gt;
&lt;p&gt;Now we just need to override the &lt;tt class="docutils literal"&gt;base_helper.tmpl&lt;/tt&gt; template and the
webassets bundle to use our customized Bootstrap stylesheet. As mentioned
earlier, our modifications are going to closely resemble those of the
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;bootstrap3-gradients-jinja&lt;/span&gt;&lt;/tt&gt; theme. Let us locate and install this theme for
reference:&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_fa472f2dd0bb45a4a58074a6f6e9178c-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola install_theme -l &lt;span class="p"&gt;|&lt;/span&gt; grep bootstrap
&lt;a name="rest_code_fa472f2dd0bb45a4a58074a6f6e9178c-2"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2015-10-01T05:34:12Z] INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): themes.getnikola.com&lt;/span&gt;
&lt;a name="rest_code_fa472f2dd0bb45a4a58074a6f6e9178c-3"&gt;&lt;/a&gt;&lt;span class="go"&gt;bootstrap&lt;/span&gt;
&lt;a name="rest_code_fa472f2dd0bb45a4a58074a6f6e9178c-4"&gt;&lt;/a&gt;&lt;span class="go"&gt;bootstrap-jinja&lt;/span&gt;
&lt;a name="rest_code_fa472f2dd0bb45a4a58074a6f6e9178c-5"&gt;&lt;/a&gt;&lt;span class="go"&gt;bootstrap3-gradients&lt;/span&gt;
&lt;a name="rest_code_fa472f2dd0bb45a4a58074a6f6e9178c-6"&gt;&lt;/a&gt;&lt;span class="go"&gt;bootstrap3-gradients-jinja&lt;/span&gt;
&lt;a name="rest_code_fa472f2dd0bb45a4a58074a6f6e9178c-7"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola install_theme bootstrap3-gradients-jinja
&lt;a name="rest_code_fa472f2dd0bb45a4a58074a6f6e9178c-8"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2015-10-01T05:35:16Z] INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): themes.getnikola.com&lt;/span&gt;
&lt;a name="rest_code_fa472f2dd0bb45a4a58074a6f6e9178c-9"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2015-10-01T05:35:17Z] INFO: install_theme: Downloading 'https://themes.getnikola.com/v7/bootstrap3-gradients-jinja.zip'&lt;/span&gt;
&lt;a name="rest_code_fa472f2dd0bb45a4a58074a6f6e9178c-10"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2015-10-01T05:35:17Z] INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): themes.getnikola.com&lt;/span&gt;
&lt;a name="rest_code_fa472f2dd0bb45a4a58074a6f6e9178c-11"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2015-10-01T05:35:17Z] INFO: install_theme: Extracting 'bootstrap3-gradients-jinja' into themes/&lt;/span&gt;
&lt;a name="rest_code_fa472f2dd0bb45a4a58074a6f6e9178c-12"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2015-10-01T05:35:17Z] NOTICE: install_theme: Remember to set THEME="bootstrap3-gradients-jinja" in conf.py to use this theme.&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;We can inspect the modifications that have been made by comparing the
differences between the relevant files in &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;bootstrap3-jinja&lt;/span&gt;&lt;/tt&gt; and
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;bootstrap3-gradients-jinja&lt;/span&gt;&lt;/tt&gt;. First, let us get the location of the
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;bootstrap3-jinja&lt;/span&gt;&lt;/tt&gt; theme which was shipped with Nikola:&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_c40a378204b44d40b6b856633f7e60d7-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola install_theme --get-path bootstrap3-jinja
&lt;a name="rest_code_c40a378204b44d40b6b856633f7e60d7-2"&gt;&lt;/a&gt;&lt;span class="go"&gt;&amp;lt;env&amp;gt;/lib/python2.7/site-packages/nikola/data/themes/bootstrap3-jinja&lt;/span&gt;
&lt;/pre&gt;&lt;pre class="code console"&gt;&lt;a name="rest_code_ca4d106a0ae944c5b86a3c9ef71b0fa7-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; diff -u &amp;lt;env&amp;gt;/lib/python2.7/site-packages/nikola/data/themes/bootstrap3-jinja/bundles themes/bootstrap3-gradients-jinja/bundles
&lt;/pre&gt;&lt;pre class="code diff"&gt;&lt;a name="rest_code_a7f5f1fbc447483ca8a5adec49591d02-1"&gt;&lt;/a&gt;&lt;span class="gd"&gt;--- &amp;lt;env&amp;gt;/lib/python2.7/site-packages/nikola/data/themes/bootstrap3-jinja/bundles  2015-10-01 15:33:47.000000000 +1000&lt;/span&gt;
&lt;a name="rest_code_a7f5f1fbc447483ca8a5adec49591d02-2"&gt;&lt;/a&gt;&lt;span class="gi"&gt;+++ &amp;lt;site-root&amp;gt;/themes/themes/bootstrap3-gradients-jinja/bundles 2015-10-01 15:35:17.000000000 +1000&lt;/span&gt;
&lt;a name="rest_code_a7f5f1fbc447483ca8a5adec49591d02-3"&gt;&lt;/a&gt;&lt;span class="gu"&gt;@@ -1,4 +1,4 @@&lt;/span&gt;
&lt;a name="rest_code_a7f5f1fbc447483ca8a5adec49591d02-4"&gt;&lt;/a&gt;&lt;span class="gd"&gt;-assets/css/all-nocdn.css=bootstrap.css,rst.css,code.css,colorbox.css,theme.css,custom.css&lt;/span&gt;
&lt;a name="rest_code_a7f5f1fbc447483ca8a5adec49591d02-5"&gt;&lt;/a&gt;&lt;span class="gi"&gt;+assets/css/all-nocdn.css=bootstrap.css,bootstrap-theme.css,rst.css,code.css,colorbox.css,theme.css,custom.css&lt;/span&gt;
&lt;a name="rest_code_a7f5f1fbc447483ca8a5adec49591d02-6"&gt;&lt;/a&gt; assets/css/all.css=rst.css,code.css,colorbox.css,theme.css,custom.css
&lt;a name="rest_code_a7f5f1fbc447483ca8a5adec49591d02-7"&gt;&lt;/a&gt; assets/js/all-nocdn.js=jquery.min.js,bootstrap.min.js,jquery.colorbox-min.js,moment-with-locales.min.js,fancydates.js
&lt;a name="rest_code_a7f5f1fbc447483ca8a5adec49591d02-8"&gt;&lt;/a&gt; assets/js/all.js=jquery.colorbox-min.js,moment-with-locales.min.js,fancydates.js
&lt;/pre&gt;&lt;pre class="code console"&gt;&lt;a name="rest_code_4588aba218de4948a50202459584907b-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; diff -u &amp;lt;env&amp;gt;/lib/python2.7/site-packages/nikola/data/themes/bootstrap3-jinja/templates/base_helper.tmpl themes/bootstrap3-gradients-jinja/templates/base_helper.tmpl
&lt;/pre&gt;&lt;pre class="code diff"&gt;&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-1"&gt;&lt;/a&gt;&lt;span class="gd"&gt;--- &amp;lt;env&amp;gt;/lib/python2.7/site-packages/nikola/data/themes/bootstrap3-jinja/templates/base_helper.tmpl 2015-10-01 15:33:47.000000000 +1000&lt;/span&gt;
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-2"&gt;&lt;/a&gt;&lt;span class="gi"&gt;+++ &amp;lt;site-root&amp;gt;/themes/themes/bootstrap3-gradients-jinja/templates/base_helper.tmpl  2015-10-01 15:35:17.000000000 +1000&lt;/span&gt;
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-3"&gt;&lt;/a&gt;&lt;span class="gu"&gt;@@ -103,6 +103,7 @@&lt;/span&gt;
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-4"&gt;&lt;/a&gt;     {% if use_bundles %}
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-5"&gt;&lt;/a&gt;         {% if use_cdn %}
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-6"&gt;&lt;/a&gt;             &amp;lt;link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet"&amp;gt;
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-7"&gt;&lt;/a&gt;&lt;span class="gi"&gt;+            &amp;lt;link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" rel="stylesheet"&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-8"&gt;&lt;/a&gt;             &amp;lt;link href="/assets/css/all.css" rel="stylesheet" type="text/css"&amp;gt;
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-9"&gt;&lt;/a&gt;         {% else %}
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-10"&gt;&lt;/a&gt;             &amp;lt;link href="/assets/css/all-nocdn.css" rel="stylesheet" type="text/css"&amp;gt;
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-11"&gt;&lt;/a&gt;&lt;span class="gu"&gt;@@ -110,8 +111,10 @@&lt;/span&gt;
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-12"&gt;&lt;/a&gt;     {% else %}
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-13"&gt;&lt;/a&gt;         {% if use_cdn %}
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-14"&gt;&lt;/a&gt;             &amp;lt;link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet"&amp;gt;
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-15"&gt;&lt;/a&gt;&lt;span class="gi"&gt;+            &amp;lt;link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" rel="stylesheet"&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-16"&gt;&lt;/a&gt;         {% else %}
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-17"&gt;&lt;/a&gt;             &amp;lt;link href="/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css"&amp;gt;
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-18"&gt;&lt;/a&gt;&lt;span class="gi"&gt;+            &amp;lt;link href="/assets/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css"&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-19"&gt;&lt;/a&gt;         {% endif %}
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-20"&gt;&lt;/a&gt;         &amp;lt;link href="/assets/css/rst.css" rel="stylesheet" type="text/css"&amp;gt;
&lt;a name="rest_code_df54d073d67d48dd890d9c92bb979b8d-21"&gt;&lt;/a&gt;         &amp;lt;link href="/assets/css/code.css" rel="stylesheet" type="text/css"&amp;gt;
&lt;/pre&gt;&lt;p&gt;We see the only difference is that &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;bootstrap3-gradients-jinja&lt;/span&gt;&lt;/tt&gt; includes the
additional &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;bootstrap-theme.css&lt;/span&gt;&lt;/tt&gt; stylesheet after the standard
&lt;tt class="docutils literal"&gt;bootstrap.css&lt;/tt&gt; stylesheet. We could repeat this with our own theme. However,
if we decide to use other fonts from say, &lt;a class="reference external" href="https://www.google.com/fonts"&gt;Google Fonts&lt;/a&gt;, we would need to add
an &lt;tt class="docutils literal"&gt;@import&lt;/tt&gt; statement in our &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;bootstrap-custom.scss&lt;/span&gt;&lt;/tt&gt; file. However, if we
were to include the compiled &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;bootstrap-custom.css&lt;/span&gt;&lt;/tt&gt; stylesheet after the
standard &lt;tt class="docutils literal"&gt;bootstrap.min.css&lt;/tt&gt; stylesheet, the fonts would fail to be imported,
as &lt;tt class="docutils literal"&gt;@imports&lt;/tt&gt; must come before all other content. Since we build all of
Bootstrap from source anyways, the most straightforward solution is to get rid
of the &lt;tt class="docutils literal"&gt;bootstrap.min.css&lt;/tt&gt; stylesheet entirely and use our own compiled
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;bootstrap-custom.css&lt;/span&gt;&lt;/tt&gt; stylesheet.&lt;/p&gt;
&lt;p&gt;Our custom Bootstrap is compiled at the time we run &lt;tt class="docutils literal"&gt;nikola build&lt;/tt&gt;, so
obviously it would not be available on any CDN. Therefore, we would not need to
make the distinction between using and not using a CDN by having separate
webassets bundle files &lt;tt class="docutils literal"&gt;all.css&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;all-nocdn.css&lt;/span&gt;&lt;/tt&gt;. We can just bundle
everything into the &lt;tt class="docutils literal"&gt;all.css&lt;/tt&gt; file. Additionally, the &lt;tt class="docutils literal"&gt;use_cdn&lt;/tt&gt; variable is
effectively ignored since we would need to include our compiled stylesheets no
matter what; it is not available from anywhere else.&lt;/p&gt;
&lt;p&gt;To summarize, for &lt;tt class="docutils literal"&gt;bundles&lt;/tt&gt;, we have:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_17c9a10cd98e4b2cac9fe39a93beb91d-1"&gt;&lt;/a&gt;assets/css/all.css=bootstrap-custom.css,rst.css,code.css,colorbox.css,theme.css,custom.css
&lt;a name="rest_code_17c9a10cd98e4b2cac9fe39a93beb91d-2"&gt;&lt;/a&gt;assets/js/all-nocdn.js=jquery.min.js,bootstrap.min.js,jquery.colorbox-min.js,moment-with-locales.min.js,fancydates.js
&lt;a name="rest_code_17c9a10cd98e4b2cac9fe39a93beb91d-3"&gt;&lt;/a&gt;assets/js/all.js=jquery.colorbox-min.js,moment-with-locales.min.js,fancydates.js
&lt;/pre&gt;&lt;p&gt;and for the relevant section of &lt;tt class="docutils literal"&gt;base_helper.tmpl&lt;/tt&gt;, we have:&lt;/p&gt;
&lt;pre class="code html"&gt;&lt;a name="rest_code_baf635657505474fa20f06790819da85-1"&gt;&lt;/a&gt;{% if use_bundles %}
&lt;a name="rest_code_baf635657505474fa20f06790819da85-2"&gt;&lt;/a&gt;    &lt;span class="nt"&gt;&amp;lt;link&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;"/assets/css/all.css"&lt;/span&gt; &lt;span class="na"&gt;rel=&lt;/span&gt;&lt;span class="s"&gt;"stylesheet"&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;"text/css"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_baf635657505474fa20f06790819da85-3"&gt;&lt;/a&gt;{% else %}
&lt;a name="rest_code_baf635657505474fa20f06790819da85-4"&gt;&lt;/a&gt;    &lt;span class="nt"&gt;&amp;lt;link&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;"/assets/css/bootstrap-custom.css"&lt;/span&gt; &lt;span class="na"&gt;rel=&lt;/span&gt;&lt;span class="s"&gt;"stylesheet"&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;"text/css"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_baf635657505474fa20f06790819da85-5"&gt;&lt;/a&gt;    &lt;span class="nt"&gt;&amp;lt;link&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;"/assets/css/rst.css"&lt;/span&gt; &lt;span class="na"&gt;rel=&lt;/span&gt;&lt;span class="s"&gt;"stylesheet"&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;"text/css"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_baf635657505474fa20f06790819da85-6"&gt;&lt;/a&gt;    &lt;span class="nt"&gt;&amp;lt;link&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;"/assets/css/code.css"&lt;/span&gt; &lt;span class="na"&gt;rel=&lt;/span&gt;&lt;span class="s"&gt;"stylesheet"&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;"text/css"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_baf635657505474fa20f06790819da85-7"&gt;&lt;/a&gt;    &lt;span class="nt"&gt;&amp;lt;link&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;"/assets/css/colorbox.css"&lt;/span&gt; &lt;span class="na"&gt;rel=&lt;/span&gt;&lt;span class="s"&gt;"stylesheet"&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;"text/css"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_baf635657505474fa20f06790819da85-8"&gt;&lt;/a&gt;    &lt;span class="nt"&gt;&amp;lt;link&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;"/assets/css/theme.css"&lt;/span&gt; &lt;span class="na"&gt;rel=&lt;/span&gt;&lt;span class="s"&gt;"stylesheet"&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;"text/css"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_baf635657505474fa20f06790819da85-9"&gt;&lt;/a&gt;    {% if has_custom_css %}
&lt;a name="rest_code_baf635657505474fa20f06790819da85-10"&gt;&lt;/a&gt;        &lt;span class="nt"&gt;&amp;lt;link&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;"/assets/css/custom.css"&lt;/span&gt; &lt;span class="na"&gt;rel=&lt;/span&gt;&lt;span class="s"&gt;"stylesheet"&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;"text/css"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_baf635657505474fa20f06790819da85-11"&gt;&lt;/a&gt;    {% endif %}
&lt;a name="rest_code_baf635657505474fa20f06790819da85-12"&gt;&lt;/a&gt;{% endif %}
&lt;/pre&gt;&lt;dl class="docutils"&gt;
&lt;dt&gt;TODO&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Sass compress, and why Nikola can't&lt;/li&gt;
&lt;li&gt;Bootswatch (optional)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;&lt;/div&gt;</description><category>bootstrap</category><category>nikola</category><category>sass</category><guid>http://ltiao.github.io/posts/creating-a-nikola-theme-with-sass-compiled-bootstrap.html</guid><pubDate>Mon, 28 Sep 2015 12:59:54 GMT</pubDate></item></channel></rss>