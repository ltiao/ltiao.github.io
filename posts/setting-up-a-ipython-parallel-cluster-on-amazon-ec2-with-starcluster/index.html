<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Setting up a IPython Parallel Cluster on Amazon EC2 with StarCluster | Louis Tiao</title>
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/all.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="http://louistiao.me/posts/setting-up-a-ipython-parallel-cluster-on-amazon-ec2-with-starcluster/">
<link rel="icon" href="../../favicon_32x32.ico" sizes="32x32">
<link rel="icon" href="../../favicon_256x256.ico" sizes="256x256">
<link rel="icon" href="../../favicon_16x16.ico" sizes="16x16">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
    },
    displayAlign: 'center', // Change this to 'center' to center equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script><!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><!--

    /\\\\\\\\\\\\\\\  /\\\\\\\\\\\     /\\\\\\\\\          /\\\\\              
    \///////\\\/////  \/////\\\///    /\\\\\\\\\\\\\      /\\\///\\\           
           \/\\\           \/\\\      /\\\/////////\\\   /\\\/  \///\\\        
            \/\\\           \/\\\     \/\\\       \/\\\  /\\\      \//\\\      
             \/\\\           \/\\\     \/\\\\\\\\\\\\\\\ \/\\\       \/\\\     
              \/\\\           \/\\\     \/\\\/////////\\\ \//\\\      /\\\     
               \/\\\           \/\\\     \/\\\       \/\\\  \///\\\  /\\\      
                \/\\\        /\\\\\\\\\\\ \/\\\       \/\\\    \///\\\\\/      
                 \///        \///////////  \///        \///       \/////       

--><meta name="author" content="Louis Tiao">
<link rel="prev" href="../notebooks/visualizing-and-animating-optimization-algorithms-with-matplotlib/" title="Visualizing and Animating Optimization Algorithms with Matplotlib" type="text/html">
<meta property="og:site_name" content="Louis Tiao">
<meta property="og:title" content="Setting up a IPython Parallel Cluster on Amazon EC2 with StarCluster">
<meta property="og:url" content="http://louistiao.me/posts/setting-up-a-ipython-parallel-cluster-on-amazon-ec2-with-starcluster/">
<meta property="og:description" content="StarCluster is an open source cluster-computing toolkit for Amazon’s Elastic
Compute Cloud (EC2) that is designed to automate and simplify the process of
building, configuring, and managing clusters o">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2016-05-03T22:55:55+10:00">
<meta property="article:tag" content="amazon aws">
<meta property="article:tag" content="amazon ec2">
<meta property="article:tag" content="distributed computing">
<meta property="article:tag" content="ipython">
<meta property="article:tag" content="pip">
<meta property="article:tag" content="python">
<meta property="article:tag" content="starcluster">
<meta property="article:tag" content="virtualenv">
</head>
<body>
  <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

  <div class="container">
    <div class="header clearfix">
      <nav><ul class="nav nav-pills pull-right">
<li>
<a href="../../">About</a>
                </li>
<li>
<a href="../../projects/">Projects</a>
                </li>
<li>
<a href="../">Posts</a>
                </li>
<li>
<a href="../../archive.html">Archive</a>

          
        </li>
</ul></nav><a href="http://louistiao.me/">

        <h3 class="text-muted">
          <span id="blog-title">Louis Tiao</span>
        </h3>
      </a>
    </div>

<!-- TODO Figure out what to do with this stuff -->
<!--     <div class="row">

      <ul class="nav nav-pills pull-right">
    <li>
    <a href="/posts/setting-up-a-ipython-parallel-cluster-on-amazon-ec2-with-starcluster/index.rst" id="sourcelink">Source</a>
    </li>
          
      </ul>
    </div> -->

    <div id="content" role="main">
      <div class="body-content">
        <!--Body content-->
        <div class="row">
          
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Setting up a IPython Parallel Cluster on Amazon EC2 with StarCluster</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                    Louis Tiao
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2016-05-03T22:55:55+10:00" itemprop="datePublished" title="2016-05-03 22:55">2016-05-03 22:55</time></a></p>
                <p class="commentline">            <a href="#disqus_thread" data-disqus-identifier="cache/posts/setting-up-a-ipython-parallel-cluster-on-amazon-ec2-with-starcluster.html">Comments</a>


                    </p>
<p class="sourceline"><a href="index.rst" id="sourcelink">Source</a></p>

        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p><a class="reference external" href="http://star.mit.edu/cluster/">StarCluster</a> is an open source cluster-computing toolkit for Amazon’s Elastic
Compute Cloud (EC2) that is designed to automate and simplify the process of
building, configuring, and managing clusters of virtual machines on Amazon’s
EC2 cloud. StarCluster makes it easy to create a cluster computing environment
in the cloud for distributed and parallel computing applications.</p>
<!-- TEASER_END -->
<div class="attention">
<p class="first admonition-title">Attention!</p>
<p>Before you venture any further, be aware of the following:</p>
<ul class="simple">
<li>At the time of writing (3 May 2016), the last commit (<a class="reference external" href="https://github.com/jtriley/StarCluster/commit/54a61fd0add8802e61a8c035944389fe2939be23">54a61fd</a>) was made
on Nov 13 2015, which is <em>long</em> time ago in the FOSS world.</li>
<li>There is no official Python 3 support, and this is an <a class="reference external" href="https://github.com/jtriley/StarCluster/issues/514">open issue</a> from
Mar 21 2015 - again, a <em>long</em> time ago.</li>
<li>The version of IPython used to create and manipulate the <tt class="docutils literal">IPython.parallel</tt>
<a class="reference external" href="http://ipyparallel.readthedocs.io/en/latest/api/ipyparallel.html#ipyparallel.Client">Client</a> only works with version 1.1.0 of IPython (from before September
23, 2015). At the time of writing, the latest stable version of IPython
is 4.2.0. Furthermore <tt class="docutils literal">IPython.parallel</tt> has since become its own
project, <a class="reference external" href="http://ipyparallel.readthedocs.io/en/latest/">ipyparallel</a>.</li>
</ul>
<p class="last">If you are able to circumvent the ramifications of these issues then we
are ready to proceed.</p>
</div>
<div class="section" id="getting-started">
<h2>Getting Started</h2>
<p>First we initialize a <tt class="docutils literal">virtualenv</tt> for our project with Python 2.7 and install
StarCluster with <tt class="docutils literal">pip</tt>:</p>
<pre class="code console"><a name="rest_code_0d725930924041509cfc7d0a4bd2f01a-1"></a><span class="gp">$</span> mkvirtualenv starcluster --python<span class="o">=</span><span class="sb">`</span>which python2<span class="sb">`</span>
<a name="rest_code_0d725930924041509cfc7d0a4bd2f01a-2"></a><span class="gp">$</span> python -V
<a name="rest_code_0d725930924041509cfc7d0a4bd2f01a-3"></a><span class="go">Python 2.7.11</span>
<a name="rest_code_0d725930924041509cfc7d0a4bd2f01a-4"></a><span class="gp">$</span> pip install starcluster
</pre>
<p>Create a directory to contain the various configuration files:</p>
<pre class="code console"><a name="rest_code_eee7739bd82340c882b78930e603753b-1"></a><span class="gp">$</span> mkdir &lt;starcluster-project&gt;
<a name="rest_code_eee7739bd82340c882b78930e603753b-2"></a><span class="gp">$</span> <span class="nb">cd</span> &lt;starcluster-project&gt;
</pre>
<p>Initialize the StarCluster configuration file:</p>
<pre class="code console"><a name="rest_code_c944455523284a22a744cef4f75a12ae-1"></a><span class="gp">$</span> starcluster -c &lt;starcluster-project&gt;/starcluster.cfg <span class="nb">help</span>
<a name="rest_code_c944455523284a22a744cef4f75a12ae-2"></a><span class="go">StarCluster - (http://star.mit.edu/cluster) (v. 0.95.6)</span>
<a name="rest_code_c944455523284a22a744cef4f75a12ae-3"></a><span class="go">Software Tools for Academics and Researchers (STAR)</span>
<a name="rest_code_c944455523284a22a744cef4f75a12ae-4"></a><span class="go">Please submit bug reports to starcluster@mit.edu</span>
<a name="rest_code_c944455523284a22a744cef4f75a12ae-5"></a>
<a name="rest_code_c944455523284a22a744cef4f75a12ae-6"></a><span class="go">!!! ERROR - config file &lt;starcluster-project&gt;/starcluster.cfg does not exist</span>
<a name="rest_code_c944455523284a22a744cef4f75a12ae-7"></a>
<a name="rest_code_c944455523284a22a744cef4f75a12ae-8"></a><span class="go">Options:</span>
<a name="rest_code_c944455523284a22a744cef4f75a12ae-9"></a><span class="go">--------</span>
<a name="rest_code_c944455523284a22a744cef4f75a12ae-10"></a><span class="go">[1] Show the StarCluster config template</span>
<a name="rest_code_c944455523284a22a744cef4f75a12ae-11"></a><span class="go">[2] Write config template to &lt;starcluster-project&gt;/starcluster.cfg</span>
<a name="rest_code_c944455523284a22a744cef4f75a12ae-12"></a><span class="go">[q] Quit</span>
<a name="rest_code_c944455523284a22a744cef4f75a12ae-13"></a>
<a name="rest_code_c944455523284a22a744cef4f75a12ae-14"></a><span class="go">Please enter your selection: 2</span>
</pre>
<p>Note that without the <tt class="docutils literal"><span class="pre">-c</span></tt> argument, the configuration file would have been
initialized in the default location, which is <tt class="docutils literal"><span class="pre">~/.starcluster/config</span></tt>. Since
we may want to version control this configuration, we initialize and store
this file in an alternate location, namely, <tt class="docutils literal"><span class="pre">&lt;starcluster-project&gt;/starcluster.cfg</span></tt>.</p>
<p>We can set the <tt class="docutils literal">STARCLUSTER_CONFIG</tt> environment variable so we don't have to
provide the full path to the config file everytime we execute a <tt class="docutils literal">starcluster</tt>
subcommand:</p>
<pre class="code console"><a name="rest_code_bafe8b5cacc84bc08db0a0f8b859f060-1"></a><span class="gp">$</span> <span class="nb">export</span> <span class="nv">STARCLUSTER_CONFIG</span><span class="o">=</span><span class="s2">"&lt;starcluster-project&gt;/starcluster.cfg"</span>
</pre>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../tags/amazon-aws/" rel="tag">amazon aws</a></li>
            <li><a class="tag p-category" href="../../tags/amazon-ec2/" rel="tag">amazon ec2</a></li>
            <li><a class="tag p-category" href="../../tags/distributed-computing/" rel="tag">distributed computing</a></li>
            <li><a class="tag p-category" href="../../tags/ipython/" rel="tag">ipython</a></li>
            <li><a class="tag p-category" href="../../tags/pip/" rel="tag">pip</a></li>
            <li><a class="tag p-category" href="../../tags/python/" rel="tag">python</a></li>
            <li><a class="tag p-category" href="../../tags/starcluster/" rel="tag">starcluster</a></li>
            <li><a class="tag p-category" href="../../tags/virtualenv/" rel="tag">virtualenv</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../notebooks/visualizing-and-animating-optimization-algorithms-with-matplotlib/" rel="prev" title="Visualizing and Animating Optimization Algorithms with Matplotlib">Previous post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
                        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="ltiao",
            disqus_url="http://louistiao.me/posts/setting-up-a-ipython-parallel-cluster-on-amazon-ec2-with-starcluster/",
        disqus_title="Setting up a IPython Parallel Cluster on Amazon EC2 with StarCluster",
        disqus_identifier="cache/posts/setting-up-a-ipython-parallel-cluster-on-amazon-ec2-with-starcluster.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="ltiao";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->
        </div>
    </div>

    <footer id="footer" class="footer">
              Contents © 2016         <a href="mailto:louistiao@me.com">Louis Tiao</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
                  
    </footer>
</div> <!-- /container -->

            <script src="../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43722566-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
