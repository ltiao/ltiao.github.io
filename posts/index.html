<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
    <head>
    <meta charset="utf-8">
    <meta name="description" content="Computer Science / Math / Software Engineering">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Louis Tiao | Louis Tiao</title>

                <link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">

                <link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">

      <link rel="canonical" href="http://ltiao.github.io/posts/index.html">

            <link rel="icon" href="../favicon_256x256.ico" sizes="256x256">
            <link rel="icon" href="../favicon_16x16.ico" sizes="16x16">
            <link rel="icon" href="../favicon_32x32.ico" sizes="32x32">


        <link rel="next" href="index-1.html" type="text/html">

    
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
    },
    displayAlign: 'left', // Change this to 'center' to center equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script>

        <!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]-->

    


</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<div class="container">
    <div class="page-header">
        
<form class="navbar-form navbar-right" role="search">
  <div class="form-group">
    <input type="text" class="form-control" placeholder="Search">
  </div>
</form>

        <ul class="nav nav-pills pull-right">
            
        </ul>
        <a href="http://ltiao.github.io/">
    
            <h2 class="text-muted">
                <span id="blog-title"><strong>Louis Tiao</strong></span>
            </h2>
        </a>
    </div> <!-- ./page-header -->
</div> <!-- ./container -->

<!-- End of Menubar -->

<div class="container" id="content" role="main">
    <div class="row">
        <div class="col-sm-3 col-md-2">
            <ul class="nav nav-pills nav-stacked">
                                <li>
<a href="../about.html">About</a>
                </li>
<li>
<a href="../contact.html">Contact</a>
                </li>
<li>
<a href="../curriculum-vitae.html">Curriculum Vitae</a>
                </li>
<li>
<a href="../projects.html">Projects</a>
                </li>
<li>
<a href="../categories/coding.html">Coding</a>
                </li>
<li>
<a href="../tags/python.html">Python</a>
                </li>
<li>
<a href="../archive.html">Archive</a>
                </li>
<li>
<a href="../rss.xml">RSS feed</a>

                
            </li>
</ul>
        </div> <!-- ./col -->
        <div class="col-sm-9 col-md-10">
            <div class="body-content">
                <!--Body content-->
                <div class="row">
                    
<div class="postindex">
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="project-euler/problem-48-self-powers.html" class="u-url">Project Euler Problem 48: Self powers</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Louis Tiao</span></p>
            <p class="dateline"><a href="project-euler/problem-48-self-powers.html" rel="bookmark"><time class="published dt-published" datetime="2015-04-03T14:36:17+11:00" itemprop="datePublished" title="Publication date">2015-04-03 14:36</time></a></p>
                <p class="commentline">            <a href="project-euler/problem-48-self-powers.html#disqus_thread" data-disqus-identifier="cache/posts/project-euler/problem-48-self-powers.html">Comments</a>


        </p>
</div>
    </header>
    <div class="p-summary entry-summary">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Project-Euler---Problem-48">Project Euler - Problem 48<a class="anchor-link" href="project-euler/problem-48-self-powers.html#Project-Euler---Problem-48">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The series, $1^1 + 2^2 + 3^3 + ... + 10^{10} = 10405071317$.</p>
<p>Find the last ten digits of the series, $1^1 + 2^2 + 3^3 + ... + 1000^{1000}$.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-1:-The-obvious-way">Version 1: The obvious way<a class="anchor-link" href="project-euler/problem-48-self-powers.html#Version-1:-The-obvious-way">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [31]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">sum</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">k</span><span class="p">:</span> <span class="n">k</span><span class="o">**</span><span class="n">k</span><span class="p">,</span> <span class="n">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span> <span class="o">%</span> <span class="mi">10</span><span class="o">**</span><span class="mi">10</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[31]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>9110846700L</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This leaves much to be desired since we have to compute a integer with at least $10^{3000}$ digits only to truncate off $10^{3000} - 10^{10} = 10^{10} (10^{2990} - 1)$ digits. Note that in most other languages such as Java, we would have had to resort to some library like <code>BigInteger</code> to perform this computation. In Python, all numbers are represented by a (theoretically) infinite number of bits:</p>
<blockquote>
<p>Integers (int)</p>
<p>These represent numbers in an unlimited range, subject to available (virtual) memory only. For the purpose of shift and mask operations, a binary representation is assumed, and negative numbers are represented in a variant of 2’s complement which gives the illusion of an infinite string of sign bits extending to the left.</p>
</blockquote>
<p><a href="https://docs.python.org/3/reference/datamodel.html">https://docs.python.org/3/reference/datamodel.html</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-2:-Some-simple-modulo-arithmetic">Version 2: Some simple modulo arithmetic<a class="anchor-link" href="project-euler/problem-48-self-powers.html#Version-2:-Some-simple-modulo-arithmetic">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We're asked to find $1^1 + 2^2 + 3^3 + ... + 1000^{1000} \mod 10^{10}$. Note that
$$a + b \mod n = (a \mod n) + (b \mod n)$$
and that
$$a \cdot b \mod n = (a \mod n) \cdot (b \mod n)$$
so we can implement modulo <code>sum</code> and <code>prod</code> functions.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">prod_mod</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
    <span class="s">"Multiply all nums modulo m"</span> 
    <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">:</span> <span class="p">(</span><span class="n">p</span><span class="o">*</span><span class="n">q</span><span class="p">)</span><span class="o">%</span><span class="k">m</span>, map(lambda n: n%m, nums))  
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">itertools</span> <span class="k">import</span> <span class="n">repeat</span>

<span class="n">pow_mod</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">m</span><span class="p">:</span> <span class="n">prod_mod</span><span class="p">(</span><span class="n">repeat</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">m</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">pow_mod</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[23]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>3</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">sum_mod</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">nums</span><span class="p">,</span> <span class="n">m</span><span class="p">:</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">:</span> <span class="p">(</span><span class="n">p</span><span class="o">+</span><span class="n">q</span><span class="p">)</span><span class="o">%</span><span class="k">m</span>, map(lambda n: n%m, nums))
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">sum_mod</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">k</span><span class="p">:</span> <span class="n">pow_mod</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="mi">10</span><span class="o">**</span><span class="mi">10</span><span class="p">),</span> <span class="n">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="o">+</span><span class="mi">1</span><span class="p">)),</span> <span class="mi">10</span><span class="o">**</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[28]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>9110846700</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This way, we never let the result of any intermediate addition or multiplication exceed $10^{10}-1$.</p>

</div>
</div>
</div>
    </div>
  </div>

    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="project-euler/problem-12-highly-divisible-triangular-number.html" class="u-url">Project Euler Problem 12: Highly divisible triangular number</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Louis Tiao</span></p>
            <p class="dateline"><a href="project-euler/problem-12-highly-divisible-triangular-number.html" rel="bookmark"><time class="published dt-published" datetime="2015-04-03T14:35:54+11:00" itemprop="datePublished" title="Publication date">2015-04-03 14:35</time></a></p>
                <p class="commentline">            <a href="project-euler/problem-12-highly-divisible-triangular-number.html#disqus_thread" data-disqus-identifier="cache/posts/project-euler/problem-12-highly-divisible-triangular-number.html">Comments</a>


        </p>
</div>
    </header>
    <div class="p-summary entry-summary">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Project-Euler---Problem-12">Project Euler - Problem 12<a class="anchor-link" href="project-euler/problem-12-highly-divisible-triangular-number.html#Project-Euler---Problem-12">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The sequence of triangle numbers is generated by adding the natural numbers. So the 7th triangle number would be 1 + 2 + 3 + 4 + 5 + 6 + 7 = 28. The first ten terms would be:</p>
<p>1, 3, 6, 10, 15, 21, 28, 36, 45, 55, ...</p>
<p>Let us list the factors of the first seven triangle numbers:</p>

<pre><code> 1: 1
 3: 1,3
 6: 1,2,3,6
10: 1,2,5,10
15: 1,3,5,15
21: 1,3,7,21
28: 1,2,4,7,14,28</code></pre>
<p>We can see that 28 is the first triangle number to have over five divisors.</p>
<p>What is the value of the first triangle number to have over five hundred divisors?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-1:-Brute-force">Version 1: Brute force<a class="anchor-link" href="project-euler/problem-12-highly-divisible-triangular-number.html#Version-1:-Brute-force">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="k">def</span> <span class="nf">triangle_num</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="s">"The nth triangle number"</span>
    <span class="k">return</span> <span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">&gt;&gt;</span><span class="mi">1</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">triangle_num</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[2]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>28</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="nb">map</span><span class="p">(</span><span class="n">triangle_num</span><span class="p">,</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[3]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[1, 3, 6, 10, 15, 21, 28, 36, 45, 55]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We already implemented a function that finds all prime factors of a number which may be useful if we are required to optimize. For now, let's use something simple like this. After all,</p>
<blockquote>
<p>Premature optimization is the root of all evil</p>
<ul>
<li>Donald Knuth</li>
</ul>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">factors</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">n</span> <span class="o">%</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="p">{</span><span class="n">n</span><span class="p">:</span><span class="n">factors</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="n">triangle_num</span><span class="p">,</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">))}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[5]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>{1: [1],
 3: [1, 3],
 6: [1, 2, 3, 6],
 10: [1, 2, 5, 10],
 15: [1, 3, 5, 15],
 21: [1, 3, 7, 21],
 28: [1, 2, 4, 7, 14, 28]}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Function composition is going to be useful for this problem. Of course, Python is not a functional programming language, but we can nonetheless hack together something that closely resembles it.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">compose</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">*</span><span class="n">fns</span><span class="p">:</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">:</span> <span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)),</span> <span class="n">fns</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here is a "semi-quine" to test our function composition.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">compose</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="nb">len</span><span class="p">)(</span><span class="s">'should be 169'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[7]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>169</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="nb">map</span><span class="p">(</span><span class="n">compose</span><span class="p">(</span><span class="n">factors</span><span class="p">,</span> <span class="n">triangle_num</span><span class="p">),</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[8]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[[1],
 [1, 3],
 [1, 2, 3, 6],
 [1, 2, 5, 10],
 [1, 3, 5, 15],
 [1, 3, 7, 21],
 [1, 2, 4, 7, 14, 28],
 [1, 2, 3, 4, 6, 9, 12, 18, 36],
 [1, 3, 5, 9, 15, 45],
 [1, 5, 11, 55]]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we're ready to go</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">count</span><span class="p">,</span> <span class="n">imap</span><span class="p">,</span> <span class="n">islice</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="k">def</span> <span class="nf">first</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="n">iterable</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">pred</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">x</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>First, a quick composition with the generator version of <code>map</code> and <code>count</code>/<code>islice</code> instead of the usual <code>range</code>, since we're going to apply the higher-order function <code>first</code> later, instead of <code>islice</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="nb">list</span><span class="p">(</span><span class="n">islice</span><span class="p">(</span><span class="n">imap</span><span class="p">(</span><span class="n">compose</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">factors</span><span class="p">,</span> <span class="n">triangle_num</span><span class="p">),</span> <span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)),</span> <span class="mi">10</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[11]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[1, 2, 4, 4, 4, 4, 6, 9, 6, 4]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can see that the first triangle number to have over 5 divisors has 6 divisors, but we don't know what the trianble number is. We need to do a bit more work to retain that information in our function composition pipeline.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">first</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">imap</span><span class="p">(</span><span class="n">compose</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">factors</span><span class="p">,</span> <span class="n">triangle_num</span><span class="p">),</span> <span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[12]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>6</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Excellent. Now we have a pair of the triangle number, and its number of factors.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="nb">list</span><span class="p">(</span><span class="n">islice</span><span class="p">(</span><span class="n">imap</span><span class="p">(</span><span class="n">compose</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">compose</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">factors</span><span class="p">)(</span><span class="n">n</span><span class="p">)),</span> <span class="n">triangle_num</span><span class="p">),</span> <span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)),</span> <span class="mi">10</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[13]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[(1, 1),
 (3, 2),
 (6, 4),
 (10, 4),
 (15, 4),
 (21, 4),
 (28, 6),
 (36, 9),
 (45, 6),
 (55, 4)]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Instead of using <code>islice</code>, we just need to use our higher-order function <code>first</code> with a predicate. What does this function do? The name speaks for itself, return the first item in an iterable that satisfies the predicate.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">first</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">:</span> <span class="n">l</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">imap</span><span class="p">(</span><span class="n">compose</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">compose</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">factors</span><span class="p">)(</span><span class="n">n</span><span class="p">)),</span> <span class="n">triangle_num</span><span class="p">),</span> <span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[14]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>(28, 6)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Hold on to your hats...</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># (lambda l: l[1] &gt;= 5*10**2, imap(compose(lambda n: (n, compose(len, factors)(n)), triangle_num), count(1)))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-2:-The-Fundamental-Theorem-of-Arithmetic">Version 2: The Fundamental Theorem of Arithmetic<a class="anchor-link" href="project-euler/problem-12-highly-divisible-triangular-number.html#Version-2:-The-Fundamental-Theorem-of-Arithmetic">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>By the <a href="http://en.wikipedia.org/wiki/Fundamental_theorem_of_arithmetic">fundamental theorem of arithmetic</a>, every integer $n$ has a unique prime factorization, say, $n = \prod_{i} p_i^{e_i}$ and it follows that $n$ has $\prod_{i} (e_i+1)$ factors. To see this, observe that each prime factor $p_i$ of $n$ can be used 0 to $e_i$ times to form a factor of $n$. This is where our <code>prime_factors</code> function comes in handy.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">from</span> <span class="nn">common.utils</span> <span class="kn">import</span> <span class="n">prime_factors</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">prime_factors</span><span class="p">(</span><span class="mi">28</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[18]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({2: 2, 7: 1})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>First, let's implement <code>prod</code>, which is the multiplication analog to <code>sum</code>, with the help of the built-in <code>reduce</code> function.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">prod</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">iterable</span><span class="p">:</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">iterable</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">prod</span><span class="p">([])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[20]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>1</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, we need a way to add 1 to each item of the <code>Counter</code> which represents an integer's prime factors. We could do this for example</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">({</span><span class="mi">2</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">c</span><span class="p">:</span>
    <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">c</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[21]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({2: 3, 7: 2})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>But that's not very Pythonic, nor 
does it utilize the power of Counter
very well. Let's do it right - by 
making use of the fact that Counter
objects supports addition.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">({</span><span class="mi">2</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="n">d</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[22]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({2: 1, 7: 1})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">c</span> <span class="o">+</span> <span class="n">d</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[23]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({2: 3, 7: 2})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we're ready to implement <code>count_factors</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="k">def</span> <span class="nf">count_factors</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">prime_factors</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">prod</span><span class="p">((</span><span class="n">c</span><span class="o">+</span><span class="n">d</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> 
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">count_factors</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[25]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>25</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">first</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">:</span> <span class="n">l</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">imap</span><span class="p">(</span><span class="n">compose</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">count_factors</span><span class="p">(</span><span class="n">n</span><span class="p">)),</span> <span class="n">triangle_num</span><span class="p">),</span> <span class="n">count</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[26]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>(28, 6)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">first</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">:</span> <span class="n">l</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">imap</span><span class="p">(</span><span class="n">compose</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">count_factors</span><span class="p">(</span><span class="n">n</span><span class="p">)),</span> <span class="n">triangle_num</span><span class="p">),</span> <span class="n">count</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[27]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>(25200, 90)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">first</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">:</span> <span class="n">l</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">500</span><span class="p">,</span> <span class="n">imap</span><span class="p">(</span><span class="n">compose</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">count_factors</span><span class="p">(</span><span class="n">n</span><span class="p">)),</span> <span class="n">triangle_num</span><span class="p">),</span> <span class="n">count</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[28]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>(76576500, 576)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-3:-Pretty-basic-number-theory">Version 3: Pretty basic number theory<a class="anchor-link" href="project-euler/problem-12-highly-divisible-triangular-number.html#Version-3:-Pretty-basic-number-theory">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Denote the $n$th triangle by $T_n$ and recall that $T_n = \frac{n(n+1)}{2}$.</p>
<p>Observe that $n$ and $n+1$ are coprime. That is, $\gcd{(n, n+1)} = 1$. Note that one of $n, n+1$ must be even and that in general $\gcd{(a, 2b)} = 1 \Rightarrow \gcd{(a, b)} = 1$ for integers $a, b$.</p>
<p>Say $n = 2k$. Then $T_n = \frac{n(n+1)}{2} = k(2k+1)$. Then, $\gcd{(n, n+1)} = 1 \Rightarrow \gcd{(\frac{n}{2}, n+1)} = \gcd{(k, 2k+1)} = 1$ - the only common positive factor of $k$ and $2k+1$ is $1$, so we need only find their respective factors and combine them together.</p>
<p>The same goes for the case where $n = 2k+1$. We have $T_n = \frac{n(n+1)}{2} =(k+1)(2k+1)$ and $\gcd{(n, n+1)} = 1\Rightarrow \gcd{(n, \frac{n+1}{2})} = \gcd{(2k+1, k+1)}=1$, so we factorize $2k+1$ and $k+1$.</p>
<p>Now that we have decomposed the problem to factorizing 2 integers, we essentially have the overlapping subproblem of factorizing $2k+1$. So we can even use dynamic programming to further optimize this solution.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [35]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">count</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">k</span> <span class="o">=</span> <span class="n">n</span> <span class="o">//</span> <span class="mi">2</span>
    <span class="n">T_n</span> <span class="o">=</span> <span class="n">triangle_num</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="o">+</span><span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">k</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">T_n_factors</span> <span class="o">=</span> <span class="n">count_factors</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">*</span><span class="n">count_factors</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">T_n_factors</span> <span class="o">&gt;=</span> <span class="mi">500</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">T_n</span><span class="p">,</span> <span class="n">T_n_factors</span>
        <span class="k">break</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>76576500 576
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">count_factors</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">count_factors</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">count_factors</span><span class="p">(</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">n_even</span> <span class="o">=</span> <span class="n">triangle_num</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">k</span><span class="p">)</span>
    <span class="n">n_odd</span> <span class="o">=</span> <span class="n">triangle_num</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">a</span><span class="o">*</span><span class="n">b</span> <span class="o">&gt;=</span> <span class="mi">500</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">n_even</span>
        <span class="k">break</span>
    <span class="k">elif</span> <span class="n">b</span><span class="o">*</span><span class="n">c</span> <span class="o">&gt;=</span> <span class="mi">500</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">n_odd</span>
        <span class="k">break</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>76576500
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre> 
</pre></div>

</div>
</div>
</div>

</div>
    </div>
  </div>

    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="project-euler/problem-9-special-pythagorean-triplet.html" class="u-url">Project Euler Problem 9: Special Pythagorean triplet</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Louis Tiao</span></p>
            <p class="dateline"><a href="project-euler/problem-9-special-pythagorean-triplet.html" rel="bookmark"><time class="published dt-published" datetime="2015-04-03T14:35:54+11:00" itemprop="datePublished" title="Publication date">2015-04-03 14:35</time></a></p>
                <p class="commentline">            <a href="project-euler/problem-9-special-pythagorean-triplet.html#disqus_thread" data-disqus-identifier="cache/posts/project-euler/problem-9-special-pythagorean-triplet.html">Comments</a>


        </p>
</div>
    </header>
    <div class="p-summary entry-summary">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Project-Euler---Problem-9">Project Euler - Problem 9<a class="anchor-link" href="project-euler/problem-9-special-pythagorean-triplet.html#Project-Euler---Problem-9">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A Pythagorean triplet is a set of three natural numbers, $a 

</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
\begin{equation}
a^2 + b^2 = c^2
\end{equation}
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For example, $3^2 + 4^2 = 9 + 16 = 25 = 5^2$.</p>
<p>There exists exactly one Pythagorean triplet for which $a + b + c = 1000$.
Find the product $abc$.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Remark">Remark<a class="anchor-link" href="project-euler/problem-9-special-pythagorean-triplet.html#Remark">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This is a fairly straighforward constraint satisfaction problem (CSP) and is perhaps most easily solved in a CSP modelling language such as MiniZinc. However, to employ such tools would be to defeat the very purpose of the exercise, which is to give us practice with implementation.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-1:-The-Obvious">Version 1: The Obvious<a class="anchor-link" href="project-euler/problem-9-special-pythagorean-triplet.html#Version-1:-The-Obvious">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [43]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">pair_sum_eq</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">:</span> <span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="p">(</span><span class="n">n</span><span class="o">&gt;&gt;</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [45]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="nb">list</span><span class="p">(</span><span class="n">pair_sum_eq</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[45]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[(5, 16), (6, 15), (7, 14), (8, 13), (9, 12), (10, 11)]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that $3a pair_sum_eq. Within the innermost loop, the $a, b, c$ now satisfy the constraints $a 

</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [66]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="k">def</span> <span class="nf">pythagorean_triplet_sum_eq</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">/</span><span class="mi">3</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">pair_sum_eq</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">a</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">n</span><span class="o">/</span><span class="mi">3</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">a</span><span class="o">*</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">*</span><span class="n">b</span> <span class="o">==</span> <span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [68]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="nb">list</span><span class="p">(</span><span class="n">pythagorean_triplet_sum_eq</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[68]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[(200, 375, 425)]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [52]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">prod</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">iterable</span><span class="p">:</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">iterable</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [53]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">prod</span><span class="p">(</span><span class="n">pythagorean_triplet_sum_eq</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[53]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>31875000</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-2:-Euclid's-Formula">Version 2: Euclid's Formula<a class="anchor-link" href="project-euler/problem-9-special-pythagorean-triplet.html#Version-2:-Euclid's-Formula">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><em>Coming Soon</em></p>

</div>
</div>
</div>
    </div>
  </div>

    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="project-euler/problem-8-largest-product-in-a-series.html" class="u-url">Project Euler Problem 8: Largest product in a series</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Louis Tiao</span></p>
            <p class="dateline"><a href="project-euler/problem-8-largest-product-in-a-series.html" rel="bookmark"><time class="published dt-published" datetime="2015-04-03T14:34:56+11:00" itemprop="datePublished" title="Publication date">2015-04-03 14:34</time></a></p>
                <p class="commentline">            <a href="project-euler/problem-8-largest-product-in-a-series.html#disqus_thread" data-disqus-identifier="cache/posts/project-euler/problem-8-largest-product-in-a-series.html">Comments</a>


        </p>
</div>
    </header>
    <div class="p-summary entry-summary">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Project-Euler---Problem-8">Project Euler - Problem 8<a class="anchor-link" href="project-euler/problem-8-largest-product-in-a-series.html#Project-Euler---Problem-8">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The four adjacent digits in the 1000-digit number that have the greatest product are 9 × 9 × 8 × 9 = 5832.</p>

<pre><code>73167176531330624919225119674426574742355349194934
96983520312774506326239578318016984801869478851843
85861560789112949495459501737958331952853208805511
12540698747158523863050715693290963295227443043557
66896648950445244523161731856403098711121722383113
62229893423380308135336276614282806444486645238749
30358907296290491560440772390713810515859307960866
70172427121883998797908792274921901699720888093776
65727333001053367881220235421809751254540594752243
52584907711670556013604839586446706324415722155397
53697817977846174064955149290862569321978468622482
83972241375657056057490261407972968652414535100474
82166370484403199890008895243450658541227588666881
16427171479924442928230863465674813919123162824586
17866458359124566529476545682848912883142607690042
24219022671055626321111109370544217506941658960408
07198403850962455444362981230987879927244284909188
84580156166097919133875499200524063689912560717606
05886116467109405077541002256983155200055935729725
71636269561882670428252483600823257530420752963450</code></pre>
<p>Find the thirteen adjacent digits in the 1000-digit number that have the greatest product. What is the value of this product?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-1---Sliding-Window">Version 1 - Sliding Window<a class="anchor-link" href="project-euler/problem-8-largest-product-in-a-series.html#Version-1---Sliding-Window">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's first set a variable to the number</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [42]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">n</span> <span class="o">=</span> \
<span class="mi">73167176531330624919225119674426574742355349194934</span>\
<span class="mi">96983520312774506326239578318016984801869478851843</span>\
<span class="mi">85861560789112949495459501737958331952853208805511</span>\
<span class="mi">12540698747158523863050715693290963295227443043557</span>\
<span class="mi">66896648950445244523161731856403098711121722383113</span>\
<span class="mi">62229893423380308135336276614282806444486645238749</span>\
<span class="mi">30358907296290491560440772390713810515859307960866</span>\
<span class="mi">70172427121883998797908792274921901699720888093776</span>\
<span class="mi">65727333001053367881220235421809751254540594752243</span>\
<span class="mi">52584907711670556013604839586446706324415722155397</span>\
<span class="mi">53697817977846174064955149290862569321978468622482</span>\
<span class="mi">83972241375657056057490261407972968652414535100474</span>\
<span class="mi">82166370484403199890008895243450658541227588666881</span>\
<span class="mi">16427171479924442928230863465674813919123162824586</span>\
<span class="mi">17866458359124566529476545682848912883142607690042</span>\
<span class="mi">24219022671055626321111109370544217506941658960408</span>\
<span class="mo">071</span><span class="mi">98403850962455444362981230987879927244284909188</span>\
<span class="mi">84580156166097919133875499200524063689912560717606</span>\
<span class="mo">05</span><span class="mi">886116467109405077541002256983155200055935729725</span>\
<span class="mi">71636269561882670428252483600823257530420752963450</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [43]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">n</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[43]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>7316717653133062491922511967442657474235534919493496983520312774506326239578318016984801869478851843858615607891129494954595017379583319528532088055111254069874715852386305071569329096329522744304355766896648950445244523161731856403098711121722383113622298934233803081353362766142828064444866452387493035890729629049156044077239071381051585930796086670172427121883998797908792274921901699720888093776657273330010533678812202354218097512545405947522435258490771167055601360483958644670632441572215539753697817977846174064955149290862569321978468622482839722413756570560574902614079729686524145351004748216637048440319989000889524345065854122758866688116427171479924442928230863465674813919123162824586178664583591245665294765456828489128831426076900422421902267105562632111110937054421750694165896040807198403850962455444362981230987879927244284909188845801561660979191338754992005240636899125607176060588611646710940507754100225698315520005593572972571636269561882670428252483600823257530420752963450L</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's form an array with elements representing the digits of the number.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [40]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">num_to_array</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This solution is kind of hacky and relies on specific characteristics of these Python built-in functions. Ideally, we'd build an array from the integer itself without all this type casting. But this will do for now.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">num_to_array</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[18]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[7,
 3,
 1,
 6,
 7,
 1,
 7,
 6,
 5,
 3,
 1,
 3,
 3,
 0,
 6,
 2,
 4,
 9,
 1,
 9,
 2,
 2,
 5,
 1,
 1,
 9,
 6,
 7,
 4,
 4,
 2,
 6,
 5,
 7,
 4,
 7,
 4,
 2,
 3,
 5,
 5,
 3,
 4,
 9,
 1,
 9,
 4,
 9,
 3,
 4,
 9,
 6,
 9,
 8,
 3,
 5,
 2,
 0,
 3,
 1,
 2,
 7,
 7,
 4,
 5,
 0,
 6,
 3,
 2,
 6,
 2,
 3,
 9,
 5,
 7,
 8,
 3,
 1,
 8,
 0,
 1,
 6,
 9,
 8,
 4,
 8,
 0,
 1,
 8,
 6,
 9,
 4,
 7,
 8,
 8,
 5,
 1,
 8,
 4,
 3,
 8,
 5,
 8,
 6,
 1,
 5,
 6,
 0,
 7,
 8,
 9,
 1,
 1,
 2,
 9,
 4,
 9,
 4,
 9,
 5,
 4,
 5,
 9,
 5,
 0,
 1,
 7,
 3,
 7,
 9,
 5,
 8,
 3,
 3,
 1,
 9,
 5,
 2,
 8,
 5,
 3,
 2,
 0,
 8,
 8,
 0,
 5,
 5,
 1,
 1,
 1,
 2,
 5,
 4,
 0,
 6,
 9,
 8,
 7,
 4,
 7,
 1,
 5,
 8,
 5,
 2,
 3,
 8,
 6,
 3,
 0,
 5,
 0,
 7,
 1,
 5,
 6,
 9,
 3,
 2,
 9,
 0,
 9,
 6,
 3,
 2,
 9,
 5,
 2,
 2,
 7,
 4,
 4,
 3,
 0,
 4,
 3,
 5,
 5,
 7,
 6,
 6,
 8,
 9,
 6,
 6,
 4,
 8,
 9,
 5,
 0,
 4,
 4,
 5,
 2,
 4,
 4,
 5,
 2,
 3,
 1,
 6,
 1,
 7,
 3,
 1,
 8,
 5,
 6,
 4,
 0,
 3,
 0,
 9,
 8,
 7,
 1,
 1,
 1,
 2,
 1,
 7,
 2,
 2,
 3,
 8,
 3,
 1,
 1,
 3,
 6,
 2,
 2,
 2,
 9,
 8,
 9,
 3,
 4,
 2,
 3,
 3,
 8,
 0,
 3,
 0,
 8,
 1,
 3,
 5,
 3,
 3,
 6,
 2,
 7,
 6,
 6,
 1,
 4,
 2,
 8,
 2,
 8,
 0,
 6,
 4,
 4,
 4,
 4,
 8,
 6,
 6,
 4,
 5,
 2,
 3,
 8,
 7,
 4,
 9,
 3,
 0,
 3,
 5,
 8,
 9,
 0,
 7,
 2,
 9,
 6,
 2,
 9,
 0,
 4,
 9,
 1,
 5,
 6,
 0,
 4,
 4,
 0,
 7,
 7,
 2,
 3,
 9,
 0,
 7,
 1,
 3,
 8,
 1,
 0,
 5,
 1,
 5,
 8,
 5,
 9,
 3,
 0,
 7,
 9,
 6,
 0,
 8,
 6,
 6,
 7,
 0,
 1,
 7,
 2,
 4,
 2,
 7,
 1,
 2,
 1,
 8,
 8,
 3,
 9,
 9,
 8,
 7,
 9,
 7,
 9,
 0,
 8,
 7,
 9,
 2,
 2,
 7,
 4,
 9,
 2,
 1,
 9,
 0,
 1,
 6,
 9,
 9,
 7,
 2,
 0,
 8,
 8,
 8,
 0,
 9,
 3,
 7,
 7,
 6,
 6,
 5,
 7,
 2,
 7,
 3,
 3,
 3,
 0,
 0,
 1,
 0,
 5,
 3,
 3,
 6,
 7,
 8,
 8,
 1,
 2,
 2,
 0,
 2,
 3,
 5,
 4,
 2,
 1,
 8,
 0,
 9,
 7,
 5,
 1,
 2,
 5,
 4,
 5,
 4,
 0,
 5,
 9,
 4,
 7,
 5,
 2,
 2,
 4,
 3,
 5,
 2,
 5,
 8,
 4,
 9,
 0,
 7,
 7,
 1,
 1,
 6,
 7,
 0,
 5,
 5,
 6,
 0,
 1,
 3,
 6,
 0,
 4,
 8,
 3,
 9,
 5,
 8,
 6,
 4,
 4,
 6,
 7,
 0,
 6,
 3,
 2,
 4,
 4,
 1,
 5,
 7,
 2,
 2,
 1,
 5,
 5,
 3,
 9,
 7,
 5,
 3,
 6,
 9,
 7,
 8,
 1,
 7,
 9,
 7,
 7,
 8,
 4,
 6,
 1,
 7,
 4,
 0,
 6,
 4,
 9,
 5,
 5,
 1,
 4,
 9,
 2,
 9,
 0,
 8,
 6,
 2,
 5,
 6,
 9,
 3,
 2,
 1,
 9,
 7,
 8,
 4,
 6,
 8,
 6,
 2,
 2,
 4,
 8,
 2,
 8,
 3,
 9,
 7,
 2,
 2,
 4,
 1,
 3,
 7,
 5,
 6,
 5,
 7,
 0,
 5,
 6,
 0,
 5,
 7,
 4,
 9,
 0,
 2,
 6,
 1,
 4,
 0,
 7,
 9,
 7,
 2,
 9,
 6,
 8,
 6,
 5,
 2,
 4,
 1,
 4,
 5,
 3,
 5,
 1,
 0,
 0,
 4,
 7,
 4,
 8,
 2,
 1,
 6,
 6,
 3,
 7,
 0,
 4,
 8,
 4,
 4,
 0,
 3,
 1,
 9,
 9,
 8,
 9,
 0,
 0,
 0,
 8,
 8,
 9,
 5,
 2,
 4,
 3,
 4,
 5,
 0,
 6,
 5,
 8,
 5,
 4,
 1,
 2,
 2,
 7,
 5,
 8,
 8,
 6,
 6,
 6,
 8,
 8,
 1,
 1,
 6,
 4,
 2,
 7,
 1,
 7,
 1,
 4,
 7,
 9,
 9,
 2,
 4,
 4,
 4,
 2,
 9,
 2,
 8,
 2,
 3,
 0,
 8,
 6,
 3,
 4,
 6,
 5,
 6,
 7,
 4,
 8,
 1,
 3,
 9,
 1,
 9,
 1,
 2,
 3,
 1,
 6,
 2,
 8,
 2,
 4,
 5,
 8,
 6,
 1,
 7,
 8,
 6,
 6,
 4,
 5,
 8,
 3,
 5,
 9,
 1,
 2,
 4,
 5,
 6,
 6,
 5,
 2,
 9,
 4,
 7,
 6,
 5,
 4,
 5,
 6,
 8,
 2,
 8,
 4,
 8,
 9,
 1,
 2,
 8,
 8,
 3,
 1,
 4,
 2,
 6,
 0,
 7,
 6,
 9,
 0,
 0,
 4,
 2,
 2,
 4,
 2,
 1,
 9,
 0,
 2,
 2,
 6,
 7,
 1,
 0,
 5,
 5,
 6,
 2,
 6,
 3,
 2,
 1,
 1,
 1,
 1,
 1,
 0,
 9,
 3,
 7,
 0,
 5,
 4,
 4,
 2,
 1,
 7,
 5,
 0,
 6,
 9,
 4,
 1,
 6,
 5,
 8,
 9,
 6,
 0,
 4,
 0,
 8,
 0,
 7,
 1,
 9,
 8,
 4,
 0,
 3,
 8,
 5,
 0,
 9,
 6,
 2,
 4,
 5,
 5,
 4,
 4,
 4,
 3,
 6,
 2,
 9,
 8,
 1,
 2,
 3,
 0,
 9,
 8,
 7,
 8,
 7,
 9,
 9,
 2,
 7,
 2,
 4,
 4,
 2,
 8,
 4,
 9,
 0,
 9,
 1,
 8,
 8,
 8,
 4,
 5,
 8,
 0,
 1,
 5,
 6,
 1,
 6,
 6,
 0,
 9,
 7,
 9,
 1,
 9,
 1,
 3,
 3,
 8,
 7,
 5,
 4,
 9,
 9,
 2,
 0,
 0,
 5,
 2,
 4,
 0,
 6,
 3,
 6,
 8,
 9,
 9,
 1,
 2,
 5,
 6,
 0,
 7,
 1,
 7,
 6,
 0,
 6,
 0,
 5,
 8,
 8,
 6,
 1,
 1,
 6,
 4,
 6,
 7,
 1,
 0,
 9,
 4,
 0,
 5,
 0,
 7,
 7,
 5,
 4,
 1,
 0,
 0,
 2,
 2,
 5,
 6,
 9,
 8,
 3,
 1,
 5,
 5,
 2,
 0,
 0,
 0,
 5,
 5,
 9,
 3,
 5,
 7,
 2,
 9,
 7,
 2,
 5,
 7,
 1,
 6,
 3,
 6,
 2,
 6,
 9,
 5,
 6,
 1,
 8,
 8,
 2,
 6,
 7,
 0,
 4,
 2,
 8,
 2,
 5,
 2,
 4,
 8,
 3,
 6,
 0,
 0,
 8,
 2,
 3,
 2,
 5,
 7,
 5,
 3,
 0,
 4,
 2,
 0,
 7,
 5,
 2,
 9,
 6,
 3,
 4,
 5,
 0]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we need to iterate over this array with some kind of sliding "window" of length $L=13$.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">window</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">lst</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">map</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="o">-</span><span class="n">n</span><span class="o">+</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">n</span><span class="p">)]))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Example: Partial function application and creating a list of odd numbers</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [45]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">pairwise</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">lst</span><span class="p">:</span> <span class="n">window</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="n">y</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">pairwise</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))]</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [44]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">window</span><span class="p">(</span><span class="n">num_to_array</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="mi">13</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[44]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[[7, 3, 1, 6, 7, 1, 7, 6, 5, 3, 1, 3, 3],
 [3, 1, 6, 7, 1, 7, 6, 5, 3, 1, 3, 3, 0],
 [1, 6, 7, 1, 7, 6, 5, 3, 1, 3, 3, 0, 6],
 [6, 7, 1, 7, 6, 5, 3, 1, 3, 3, 0, 6, 2],
 [7, 1, 7, 6, 5, 3, 1, 3, 3, 0, 6, 2, 4],
 [1, 7, 6, 5, 3, 1, 3, 3, 0, 6, 2, 4, 9],
 [7, 6, 5, 3, 1, 3, 3, 0, 6, 2, 4, 9, 1],
 [6, 5, 3, 1, 3, 3, 0, 6, 2, 4, 9, 1, 9],
 [5, 3, 1, 3, 3, 0, 6, 2, 4, 9, 1, 9, 2],
 [3, 1, 3, 3, 0, 6, 2, 4, 9, 1, 9, 2, 2],
 [1, 3, 3, 0, 6, 2, 4, 9, 1, 9, 2, 2, 5],
 [3, 3, 0, 6, 2, 4, 9, 1, 9, 2, 2, 5, 1],
 [3, 0, 6, 2, 4, 9, 1, 9, 2, 2, 5, 1, 1],
 [0, 6, 2, 4, 9, 1, 9, 2, 2, 5, 1, 1, 9],
 [6, 2, 4, 9, 1, 9, 2, 2, 5, 1, 1, 9, 6],
 [2, 4, 9, 1, 9, 2, 2, 5, 1, 1, 9, 6, 7],
 [4, 9, 1, 9, 2, 2, 5, 1, 1, 9, 6, 7, 4],
 [9, 1, 9, 2, 2, 5, 1, 1, 9, 6, 7, 4, 4],
 [1, 9, 2, 2, 5, 1, 1, 9, 6, 7, 4, 4, 2],
 [9, 2, 2, 5, 1, 1, 9, 6, 7, 4, 4, 2, 6],
 [2, 2, 5, 1, 1, 9, 6, 7, 4, 4, 2, 6, 5],
 [2, 5, 1, 1, 9, 6, 7, 4, 4, 2, 6, 5, 7],
 [5, 1, 1, 9, 6, 7, 4, 4, 2, 6, 5, 7, 4],
 [1, 1, 9, 6, 7, 4, 4, 2, 6, 5, 7, 4, 7],
 [1, 9, 6, 7, 4, 4, 2, 6, 5, 7, 4, 7, 4],
 [9, 6, 7, 4, 4, 2, 6, 5, 7, 4, 7, 4, 2],
 [6, 7, 4, 4, 2, 6, 5, 7, 4, 7, 4, 2, 3],
 [7, 4, 4, 2, 6, 5, 7, 4, 7, 4, 2, 3, 5],
 [4, 4, 2, 6, 5, 7, 4, 7, 4, 2, 3, 5, 5],
 [4, 2, 6, 5, 7, 4, 7, 4, 2, 3, 5, 5, 3],
 [2, 6, 5, 7, 4, 7, 4, 2, 3, 5, 5, 3, 4],
 [6, 5, 7, 4, 7, 4, 2, 3, 5, 5, 3, 4, 9],
 [5, 7, 4, 7, 4, 2, 3, 5, 5, 3, 4, 9, 1],
 [7, 4, 7, 4, 2, 3, 5, 5, 3, 4, 9, 1, 9],
 [4, 7, 4, 2, 3, 5, 5, 3, 4, 9, 1, 9, 4],
 [7, 4, 2, 3, 5, 5, 3, 4, 9, 1, 9, 4, 9],
 [4, 2, 3, 5, 5, 3, 4, 9, 1, 9, 4, 9, 3],
 [2, 3, 5, 5, 3, 4, 9, 1, 9, 4, 9, 3, 4],
 [3, 5, 5, 3, 4, 9, 1, 9, 4, 9, 3, 4, 9],
 [5, 5, 3, 4, 9, 1, 9, 4, 9, 3, 4, 9, 6],
 [5, 3, 4, 9, 1, 9, 4, 9, 3, 4, 9, 6, 9],
 [3, 4, 9, 1, 9, 4, 9, 3, 4, 9, 6, 9, 8],
 [4, 9, 1, 9, 4, 9, 3, 4, 9, 6, 9, 8, 3],
 [9, 1, 9, 4, 9, 3, 4, 9, 6, 9, 8, 3, 5],
 [1, 9, 4, 9, 3, 4, 9, 6, 9, 8, 3, 5, 2],
 [9, 4, 9, 3, 4, 9, 6, 9, 8, 3, 5, 2, 0],
 [4, 9, 3, 4, 9, 6, 9, 8, 3, 5, 2, 0, 3],
 [9, 3, 4, 9, 6, 9, 8, 3, 5, 2, 0, 3, 1],
 [3, 4, 9, 6, 9, 8, 3, 5, 2, 0, 3, 1, 2],
 [4, 9, 6, 9, 8, 3, 5, 2, 0, 3, 1, 2, 7],
 [9, 6, 9, 8, 3, 5, 2, 0, 3, 1, 2, 7, 7],
 [6, 9, 8, 3, 5, 2, 0, 3, 1, 2, 7, 7, 4],
 [9, 8, 3, 5, 2, 0, 3, 1, 2, 7, 7, 4, 5],
 [8, 3, 5, 2, 0, 3, 1, 2, 7, 7, 4, 5, 0],
 [3, 5, 2, 0, 3, 1, 2, 7, 7, 4, 5, 0, 6],
 [5, 2, 0, 3, 1, 2, 7, 7, 4, 5, 0, 6, 3],
 [2, 0, 3, 1, 2, 7, 7, 4, 5, 0, 6, 3, 2],
 [0, 3, 1, 2, 7, 7, 4, 5, 0, 6, 3, 2, 6],
 [3, 1, 2, 7, 7, 4, 5, 0, 6, 3, 2, 6, 2],
 [1, 2, 7, 7, 4, 5, 0, 6, 3, 2, 6, 2, 3],
 [2, 7, 7, 4, 5, 0, 6, 3, 2, 6, 2, 3, 9],
 [7, 7, 4, 5, 0, 6, 3, 2, 6, 2, 3, 9, 5],
 [7, 4, 5, 0, 6, 3, 2, 6, 2, 3, 9, 5, 7],
 [4, 5, 0, 6, 3, 2, 6, 2, 3, 9, 5, 7, 8],
 [5, 0, 6, 3, 2, 6, 2, 3, 9, 5, 7, 8, 3],
 [0, 6, 3, 2, 6, 2, 3, 9, 5, 7, 8, 3, 1],
 [6, 3, 2, 6, 2, 3, 9, 5, 7, 8, 3, 1, 8],
 [3, 2, 6, 2, 3, 9, 5, 7, 8, 3, 1, 8, 0],
 [2, 6, 2, 3, 9, 5, 7, 8, 3, 1, 8, 0, 1],
 [6, 2, 3, 9, 5, 7, 8, 3, 1, 8, 0, 1, 6],
 [2, 3, 9, 5, 7, 8, 3, 1, 8, 0, 1, 6, 9],
 [3, 9, 5, 7, 8, 3, 1, 8, 0, 1, 6, 9, 8],
 [9, 5, 7, 8, 3, 1, 8, 0, 1, 6, 9, 8, 4],
 [5, 7, 8, 3, 1, 8, 0, 1, 6, 9, 8, 4, 8],
 [7, 8, 3, 1, 8, 0, 1, 6, 9, 8, 4, 8, 0],
 [8, 3, 1, 8, 0, 1, 6, 9, 8, 4, 8, 0, 1],
 [3, 1, 8, 0, 1, 6, 9, 8, 4, 8, 0, 1, 8],
 [1, 8, 0, 1, 6, 9, 8, 4, 8, 0, 1, 8, 6],
 [8, 0, 1, 6, 9, 8, 4, 8, 0, 1, 8, 6, 9],
 [0, 1, 6, 9, 8, 4, 8, 0, 1, 8, 6, 9, 4],
 [1, 6, 9, 8, 4, 8, 0, 1, 8, 6, 9, 4, 7],
 [6, 9, 8, 4, 8, 0, 1, 8, 6, 9, 4, 7, 8],
 [9, 8, 4, 8, 0, 1, 8, 6, 9, 4, 7, 8, 8],
 [8, 4, 8, 0, 1, 8, 6, 9, 4, 7, 8, 8, 5],
 [4, 8, 0, 1, 8, 6, 9, 4, 7, 8, 8, 5, 1],
 [8, 0, 1, 8, 6, 9, 4, 7, 8, 8, 5, 1, 8],
 [0, 1, 8, 6, 9, 4, 7, 8, 8, 5, 1, 8, 4],
 [1, 8, 6, 9, 4, 7, 8, 8, 5, 1, 8, 4, 3],
 [8, 6, 9, 4, 7, 8, 8, 5, 1, 8, 4, 3, 8],
 [6, 9, 4, 7, 8, 8, 5, 1, 8, 4, 3, 8, 5],
 [9, 4, 7, 8, 8, 5, 1, 8, 4, 3, 8, 5, 8],
 [4, 7, 8, 8, 5, 1, 8, 4, 3, 8, 5, 8, 6],
 [7, 8, 8, 5, 1, 8, 4, 3, 8, 5, 8, 6, 1],
 [8, 8, 5, 1, 8, 4, 3, 8, 5, 8, 6, 1, 5],
 [8, 5, 1, 8, 4, 3, 8, 5, 8, 6, 1, 5, 6],
 [5, 1, 8, 4, 3, 8, 5, 8, 6, 1, 5, 6, 0],
 [1, 8, 4, 3, 8, 5, 8, 6, 1, 5, 6, 0, 7],
 [8, 4, 3, 8, 5, 8, 6, 1, 5, 6, 0, 7, 8],
 [4, 3, 8, 5, 8, 6, 1, 5, 6, 0, 7, 8, 9],
 [3, 8, 5, 8, 6, 1, 5, 6, 0, 7, 8, 9, 1],
 [8, 5, 8, 6, 1, 5, 6, 0, 7, 8, 9, 1, 1],
 [5, 8, 6, 1, 5, 6, 0, 7, 8, 9, 1, 1, 2],
 [8, 6, 1, 5, 6, 0, 7, 8, 9, 1, 1, 2, 9],
 [6, 1, 5, 6, 0, 7, 8, 9, 1, 1, 2, 9, 4],
 [1, 5, 6, 0, 7, 8, 9, 1, 1, 2, 9, 4, 9],
 [5, 6, 0, 7, 8, 9, 1, 1, 2, 9, 4, 9, 4],
 [6, 0, 7, 8, 9, 1, 1, 2, 9, 4, 9, 4, 9],
 [0, 7, 8, 9, 1, 1, 2, 9, 4, 9, 4, 9, 5],
 [7, 8, 9, 1, 1, 2, 9, 4, 9, 4, 9, 5, 4],
 [8, 9, 1, 1, 2, 9, 4, 9, 4, 9, 5, 4, 5],
 [9, 1, 1, 2, 9, 4, 9, 4, 9, 5, 4, 5, 9],
 [1, 1, 2, 9, 4, 9, 4, 9, 5, 4, 5, 9, 5],
 [1, 2, 9, 4, 9, 4, 9, 5, 4, 5, 9, 5, 0],
 [2, 9, 4, 9, 4, 9, 5, 4, 5, 9, 5, 0, 1],
 [9, 4, 9, 4, 9, 5, 4, 5, 9, 5, 0, 1, 7],
 [4, 9, 4, 9, 5, 4, 5, 9, 5, 0, 1, 7, 3],
 [9, 4, 9, 5, 4, 5, 9, 5, 0, 1, 7, 3, 7],
 [4, 9, 5, 4, 5, 9, 5, 0, 1, 7, 3, 7, 9],
 [9, 5, 4, 5, 9, 5, 0, 1, 7, 3, 7, 9, 5],
 [5, 4, 5, 9, 5, 0, 1, 7, 3, 7, 9, 5, 8],
 [4, 5, 9, 5, 0, 1, 7, 3, 7, 9, 5, 8, 3],
 [5, 9, 5, 0, 1, 7, 3, 7, 9, 5, 8, 3, 3],
 [9, 5, 0, 1, 7, 3, 7, 9, 5, 8, 3, 3, 1],
 [5, 0, 1, 7, 3, 7, 9, 5, 8, 3, 3, 1, 9],
 [0, 1, 7, 3, 7, 9, 5, 8, 3, 3, 1, 9, 5],
 [1, 7, 3, 7, 9, 5, 8, 3, 3, 1, 9, 5, 2],
 [7, 3, 7, 9, 5, 8, 3, 3, 1, 9, 5, 2, 8],
 [3, 7, 9, 5, 8, 3, 3, 1, 9, 5, 2, 8, 5],
 [7, 9, 5, 8, 3, 3, 1, 9, 5, 2, 8, 5, 3],
 [9, 5, 8, 3, 3, 1, 9, 5, 2, 8, 5, 3, 2],
 [5, 8, 3, 3, 1, 9, 5, 2, 8, 5, 3, 2, 0],
 [8, 3, 3, 1, 9, 5, 2, 8, 5, 3, 2, 0, 8],
 [3, 3, 1, 9, 5, 2, 8, 5, 3, 2, 0, 8, 8],
 [3, 1, 9, 5, 2, 8, 5, 3, 2, 0, 8, 8, 0],
 [1, 9, 5, 2, 8, 5, 3, 2, 0, 8, 8, 0, 5],
 [9, 5, 2, 8, 5, 3, 2, 0, 8, 8, 0, 5, 5],
 [5, 2, 8, 5, 3, 2, 0, 8, 8, 0, 5, 5, 1],
 [2, 8, 5, 3, 2, 0, 8, 8, 0, 5, 5, 1, 1],
 [8, 5, 3, 2, 0, 8, 8, 0, 5, 5, 1, 1, 1],
 [5, 3, 2, 0, 8, 8, 0, 5, 5, 1, 1, 1, 2],
 [3, 2, 0, 8, 8, 0, 5, 5, 1, 1, 1, 2, 5],
 [2, 0, 8, 8, 0, 5, 5, 1, 1, 1, 2, 5, 4],
 [0, 8, 8, 0, 5, 5, 1, 1, 1, 2, 5, 4, 0],
 [8, 8, 0, 5, 5, 1, 1, 1, 2, 5, 4, 0, 6],
 [8, 0, 5, 5, 1, 1, 1, 2, 5, 4, 0, 6, 9],
 [0, 5, 5, 1, 1, 1, 2, 5, 4, 0, 6, 9, 8],
 [5, 5, 1, 1, 1, 2, 5, 4, 0, 6, 9, 8, 7],
 [5, 1, 1, 1, 2, 5, 4, 0, 6, 9, 8, 7, 4],
 [1, 1, 1, 2, 5, 4, 0, 6, 9, 8, 7, 4, 7],
 [1, 1, 2, 5, 4, 0, 6, 9, 8, 7, 4, 7, 1],
 [1, 2, 5, 4, 0, 6, 9, 8, 7, 4, 7, 1, 5],
 [2, 5, 4, 0, 6, 9, 8, 7, 4, 7, 1, 5, 8],
 [5, 4, 0, 6, 9, 8, 7, 4, 7, 1, 5, 8, 5],
 [4, 0, 6, 9, 8, 7, 4, 7, 1, 5, 8, 5, 2],
 [0, 6, 9, 8, 7, 4, 7, 1, 5, 8, 5, 2, 3],
 [6, 9, 8, 7, 4, 7, 1, 5, 8, 5, 2, 3, 8],
 [9, 8, 7, 4, 7, 1, 5, 8, 5, 2, 3, 8, 6],
 [8, 7, 4, 7, 1, 5, 8, 5, 2, 3, 8, 6, 3],
 [7, 4, 7, 1, 5, 8, 5, 2, 3, 8, 6, 3, 0],
 [4, 7, 1, 5, 8, 5, 2, 3, 8, 6, 3, 0, 5],
 [7, 1, 5, 8, 5, 2, 3, 8, 6, 3, 0, 5, 0],
 [1, 5, 8, 5, 2, 3, 8, 6, 3, 0, 5, 0, 7],
 [5, 8, 5, 2, 3, 8, 6, 3, 0, 5, 0, 7, 1],
 [8, 5, 2, 3, 8, 6, 3, 0, 5, 0, 7, 1, 5],
 [5, 2, 3, 8, 6, 3, 0, 5, 0, 7, 1, 5, 6],
 [2, 3, 8, 6, 3, 0, 5, 0, 7, 1, 5, 6, 9],
 [3, 8, 6, 3, 0, 5, 0, 7, 1, 5, 6, 9, 3],
 [8, 6, 3, 0, 5, 0, 7, 1, 5, 6, 9, 3, 2],
 [6, 3, 0, 5, 0, 7, 1, 5, 6, 9, 3, 2, 9],
 [3, 0, 5, 0, 7, 1, 5, 6, 9, 3, 2, 9, 0],
 [0, 5, 0, 7, 1, 5, 6, 9, 3, 2, 9, 0, 9],
 [5, 0, 7, 1, 5, 6, 9, 3, 2, 9, 0, 9, 6],
 [0, 7, 1, 5, 6, 9, 3, 2, 9, 0, 9, 6, 3],
 [7, 1, 5, 6, 9, 3, 2, 9, 0, 9, 6, 3, 2],
 [1, 5, 6, 9, 3, 2, 9, 0, 9, 6, 3, 2, 9],
 [5, 6, 9, 3, 2, 9, 0, 9, 6, 3, 2, 9, 5],
 [6, 9, 3, 2, 9, 0, 9, 6, 3, 2, 9, 5, 2],
 [9, 3, 2, 9, 0, 9, 6, 3, 2, 9, 5, 2, 2],
 [3, 2, 9, 0, 9, 6, 3, 2, 9, 5, 2, 2, 7],
 [2, 9, 0, 9, 6, 3, 2, 9, 5, 2, 2, 7, 4],
 [9, 0, 9, 6, 3, 2, 9, 5, 2, 2, 7, 4, 4],
 [0, 9, 6, 3, 2, 9, 5, 2, 2, 7, 4, 4, 3],
 [9, 6, 3, 2, 9, 5, 2, 2, 7, 4, 4, 3, 0],
 [6, 3, 2, 9, 5, 2, 2, 7, 4, 4, 3, 0, 4],
 [3, 2, 9, 5, 2, 2, 7, 4, 4, 3, 0, 4, 3],
 [2, 9, 5, 2, 2, 7, 4, 4, 3, 0, 4, 3, 5],
 [9, 5, 2, 2, 7, 4, 4, 3, 0, 4, 3, 5, 5],
 [5, 2, 2, 7, 4, 4, 3, 0, 4, 3, 5, 5, 7],
 [2, 2, 7, 4, 4, 3, 0, 4, 3, 5, 5, 7, 6],
 [2, 7, 4, 4, 3, 0, 4, 3, 5, 5, 7, 6, 6],
 [7, 4, 4, 3, 0, 4, 3, 5, 5, 7, 6, 6, 8],
 [4, 4, 3, 0, 4, 3, 5, 5, 7, 6, 6, 8, 9],
 [4, 3, 0, 4, 3, 5, 5, 7, 6, 6, 8, 9, 6],
 [3, 0, 4, 3, 5, 5, 7, 6, 6, 8, 9, 6, 6],
 [0, 4, 3, 5, 5, 7, 6, 6, 8, 9, 6, 6, 4],
 [4, 3, 5, 5, 7, 6, 6, 8, 9, 6, 6, 4, 8],
 [3, 5, 5, 7, 6, 6, 8, 9, 6, 6, 4, 8, 9],
 [5, 5, 7, 6, 6, 8, 9, 6, 6, 4, 8, 9, 5],
 [5, 7, 6, 6, 8, 9, 6, 6, 4, 8, 9, 5, 0],
 [7, 6, 6, 8, 9, 6, 6, 4, 8, 9, 5, 0, 4],
 [6, 6, 8, 9, 6, 6, 4, 8, 9, 5, 0, 4, 4],
 [6, 8, 9, 6, 6, 4, 8, 9, 5, 0, 4, 4, 5],
 [8, 9, 6, 6, 4, 8, 9, 5, 0, 4, 4, 5, 2],
 [9, 6, 6, 4, 8, 9, 5, 0, 4, 4, 5, 2, 4],
 [6, 6, 4, 8, 9, 5, 0, 4, 4, 5, 2, 4, 4],
 [6, 4, 8, 9, 5, 0, 4, 4, 5, 2, 4, 4, 5],
 [4, 8, 9, 5, 0, 4, 4, 5, 2, 4, 4, 5, 2],
 [8, 9, 5, 0, 4, 4, 5, 2, 4, 4, 5, 2, 3],
 [9, 5, 0, 4, 4, 5, 2, 4, 4, 5, 2, 3, 1],
 [5, 0, 4, 4, 5, 2, 4, 4, 5, 2, 3, 1, 6],
 [0, 4, 4, 5, 2, 4, 4, 5, 2, 3, 1, 6, 1],
 [4, 4, 5, 2, 4, 4, 5, 2, 3, 1, 6, 1, 7],
 [4, 5, 2, 4, 4, 5, 2, 3, 1, 6, 1, 7, 3],
 [5, 2, 4, 4, 5, 2, 3, 1, 6, 1, 7, 3, 1],
 [2, 4, 4, 5, 2, 3, 1, 6, 1, 7, 3, 1, 8],
 [4, 4, 5, 2, 3, 1, 6, 1, 7, 3, 1, 8, 5],
 [4, 5, 2, 3, 1, 6, 1, 7, 3, 1, 8, 5, 6],
 [5, 2, 3, 1, 6, 1, 7, 3, 1, 8, 5, 6, 4],
 [2, 3, 1, 6, 1, 7, 3, 1, 8, 5, 6, 4, 0],
 [3, 1, 6, 1, 7, 3, 1, 8, 5, 6, 4, 0, 3],
 [1, 6, 1, 7, 3, 1, 8, 5, 6, 4, 0, 3, 0],
 [6, 1, 7, 3, 1, 8, 5, 6, 4, 0, 3, 0, 9],
 [1, 7, 3, 1, 8, 5, 6, 4, 0, 3, 0, 9, 8],
 [7, 3, 1, 8, 5, 6, 4, 0, 3, 0, 9, 8, 7],
 [3, 1, 8, 5, 6, 4, 0, 3, 0, 9, 8, 7, 1],
 [1, 8, 5, 6, 4, 0, 3, 0, 9, 8, 7, 1, 1],
 [8, 5, 6, 4, 0, 3, 0, 9, 8, 7, 1, 1, 1],
 [5, 6, 4, 0, 3, 0, 9, 8, 7, 1, 1, 1, 2],
 [6, 4, 0, 3, 0, 9, 8, 7, 1, 1, 1, 2, 1],
 [4, 0, 3, 0, 9, 8, 7, 1, 1, 1, 2, 1, 7],
 [0, 3, 0, 9, 8, 7, 1, 1, 1, 2, 1, 7, 2],
 [3, 0, 9, 8, 7, 1, 1, 1, 2, 1, 7, 2, 2],
 [0, 9, 8, 7, 1, 1, 1, 2, 1, 7, 2, 2, 3],
 [9, 8, 7, 1, 1, 1, 2, 1, 7, 2, 2, 3, 8],
 [8, 7, 1, 1, 1, 2, 1, 7, 2, 2, 3, 8, 3],
 [7, 1, 1, 1, 2, 1, 7, 2, 2, 3, 8, 3, 1],
 [1, 1, 1, 2, 1, 7, 2, 2, 3, 8, 3, 1, 1],
 [1, 1, 2, 1, 7, 2, 2, 3, 8, 3, 1, 1, 3],
 [1, 2, 1, 7, 2, 2, 3, 8, 3, 1, 1, 3, 6],
 [2, 1, 7, 2, 2, 3, 8, 3, 1, 1, 3, 6, 2],
 [1, 7, 2, 2, 3, 8, 3, 1, 1, 3, 6, 2, 2],
 [7, 2, 2, 3, 8, 3, 1, 1, 3, 6, 2, 2, 2],
 [2, 2, 3, 8, 3, 1, 1, 3, 6, 2, 2, 2, 9],
 [2, 3, 8, 3, 1, 1, 3, 6, 2, 2, 2, 9, 8],
 [3, 8, 3, 1, 1, 3, 6, 2, 2, 2, 9, 8, 9],
 [8, 3, 1, 1, 3, 6, 2, 2, 2, 9, 8, 9, 3],
 [3, 1, 1, 3, 6, 2, 2, 2, 9, 8, 9, 3, 4],
 [1, 1, 3, 6, 2, 2, 2, 9, 8, 9, 3, 4, 2],
 [1, 3, 6, 2, 2, 2, 9, 8, 9, 3, 4, 2, 3],
 [3, 6, 2, 2, 2, 9, 8, 9, 3, 4, 2, 3, 3],
 [6, 2, 2, 2, 9, 8, 9, 3, 4, 2, 3, 3, 8],
 [2, 2, 2, 9, 8, 9, 3, 4, 2, 3, 3, 8, 0],
 [2, 2, 9, 8, 9, 3, 4, 2, 3, 3, 8, 0, 3],
 [2, 9, 8, 9, 3, 4, 2, 3, 3, 8, 0, 3, 0],
 [9, 8, 9, 3, 4, 2, 3, 3, 8, 0, 3, 0, 8],
 [8, 9, 3, 4, 2, 3, 3, 8, 0, 3, 0, 8, 1],
 [9, 3, 4, 2, 3, 3, 8, 0, 3, 0, 8, 1, 3],
 [3, 4, 2, 3, 3, 8, 0, 3, 0, 8, 1, 3, 5],
 [4, 2, 3, 3, 8, 0, 3, 0, 8, 1, 3, 5, 3],
 [2, 3, 3, 8, 0, 3, 0, 8, 1, 3, 5, 3, 3],
 [3, 3, 8, 0, 3, 0, 8, 1, 3, 5, 3, 3, 6],
 [3, 8, 0, 3, 0, 8, 1, 3, 5, 3, 3, 6, 2],
 [8, 0, 3, 0, 8, 1, 3, 5, 3, 3, 6, 2, 7],
 [0, 3, 0, 8, 1, 3, 5, 3, 3, 6, 2, 7, 6],
 [3, 0, 8, 1, 3, 5, 3, 3, 6, 2, 7, 6, 6],
 [0, 8, 1, 3, 5, 3, 3, 6, 2, 7, 6, 6, 1],
 [8, 1, 3, 5, 3, 3, 6, 2, 7, 6, 6, 1, 4],
 [1, 3, 5, 3, 3, 6, 2, 7, 6, 6, 1, 4, 2],
 [3, 5, 3, 3, 6, 2, 7, 6, 6, 1, 4, 2, 8],
 [5, 3, 3, 6, 2, 7, 6, 6, 1, 4, 2, 8, 2],
 [3, 3, 6, 2, 7, 6, 6, 1, 4, 2, 8, 2, 8],
 [3, 6, 2, 7, 6, 6, 1, 4, 2, 8, 2, 8, 0],
 [6, 2, 7, 6, 6, 1, 4, 2, 8, 2, 8, 0, 6],
 [2, 7, 6, 6, 1, 4, 2, 8, 2, 8, 0, 6, 4],
 [7, 6, 6, 1, 4, 2, 8, 2, 8, 0, 6, 4, 4],
 [6, 6, 1, 4, 2, 8, 2, 8, 0, 6, 4, 4, 4],
 [6, 1, 4, 2, 8, 2, 8, 0, 6, 4, 4, 4, 4],
 [1, 4, 2, 8, 2, 8, 0, 6, 4, 4, 4, 4, 8],
 [4, 2, 8, 2, 8, 0, 6, 4, 4, 4, 4, 8, 6],
 [2, 8, 2, 8, 0, 6, 4, 4, 4, 4, 8, 6, 6],
 [8, 2, 8, 0, 6, 4, 4, 4, 4, 8, 6, 6, 4],
 [2, 8, 0, 6, 4, 4, 4, 4, 8, 6, 6, 4, 5],
 [8, 0, 6, 4, 4, 4, 4, 8, 6, 6, 4, 5, 2],
 [0, 6, 4, 4, 4, 4, 8, 6, 6, 4, 5, 2, 3],
 [6, 4, 4, 4, 4, 8, 6, 6, 4, 5, 2, 3, 8],
 [4, 4, 4, 4, 8, 6, 6, 4, 5, 2, 3, 8, 7],
 [4, 4, 4, 8, 6, 6, 4, 5, 2, 3, 8, 7, 4],
 [4, 4, 8, 6, 6, 4, 5, 2, 3, 8, 7, 4, 9],
 [4, 8, 6, 6, 4, 5, 2, 3, 8, 7, 4, 9, 3],
 [8, 6, 6, 4, 5, 2, 3, 8, 7, 4, 9, 3, 0],
 [6, 6, 4, 5, 2, 3, 8, 7, 4, 9, 3, 0, 3],
 [6, 4, 5, 2, 3, 8, 7, 4, 9, 3, 0, 3, 5],
 [4, 5, 2, 3, 8, 7, 4, 9, 3, 0, 3, 5, 8],
 [5, 2, 3, 8, 7, 4, 9, 3, 0, 3, 5, 8, 9],
 [2, 3, 8, 7, 4, 9, 3, 0, 3, 5, 8, 9, 0],
 [3, 8, 7, 4, 9, 3, 0, 3, 5, 8, 9, 0, 7],
 [8, 7, 4, 9, 3, 0, 3, 5, 8, 9, 0, 7, 2],
 [7, 4, 9, 3, 0, 3, 5, 8, 9, 0, 7, 2, 9],
 [4, 9, 3, 0, 3, 5, 8, 9, 0, 7, 2, 9, 6],
 [9, 3, 0, 3, 5, 8, 9, 0, 7, 2, 9, 6, 2],
 [3, 0, 3, 5, 8, 9, 0, 7, 2, 9, 6, 2, 9],
 [0, 3, 5, 8, 9, 0, 7, 2, 9, 6, 2, 9, 0],
 [3, 5, 8, 9, 0, 7, 2, 9, 6, 2, 9, 0, 4],
 [5, 8, 9, 0, 7, 2, 9, 6, 2, 9, 0, 4, 9],
 [8, 9, 0, 7, 2, 9, 6, 2, 9, 0, 4, 9, 1],
 [9, 0, 7, 2, 9, 6, 2, 9, 0, 4, 9, 1, 5],
 [0, 7, 2, 9, 6, 2, 9, 0, 4, 9, 1, 5, 6],
 [7, 2, 9, 6, 2, 9, 0, 4, 9, 1, 5, 6, 0],
 [2, 9, 6, 2, 9, 0, 4, 9, 1, 5, 6, 0, 4],
 [9, 6, 2, 9, 0, 4, 9, 1, 5, 6, 0, 4, 4],
 [6, 2, 9, 0, 4, 9, 1, 5, 6, 0, 4, 4, 0],
 [2, 9, 0, 4, 9, 1, 5, 6, 0, 4, 4, 0, 7],
 [9, 0, 4, 9, 1, 5, 6, 0, 4, 4, 0, 7, 7],
 [0, 4, 9, 1, 5, 6, 0, 4, 4, 0, 7, 7, 2],
 [4, 9, 1, 5, 6, 0, 4, 4, 0, 7, 7, 2, 3],
 [9, 1, 5, 6, 0, 4, 4, 0, 7, 7, 2, 3, 9],
 [1, 5, 6, 0, 4, 4, 0, 7, 7, 2, 3, 9, 0],
 [5, 6, 0, 4, 4, 0, 7, 7, 2, 3, 9, 0, 7],
 [6, 0, 4, 4, 0, 7, 7, 2, 3, 9, 0, 7, 1],
 [0, 4, 4, 0, 7, 7, 2, 3, 9, 0, 7, 1, 3],
 [4, 4, 0, 7, 7, 2, 3, 9, 0, 7, 1, 3, 8],
 [4, 0, 7, 7, 2, 3, 9, 0, 7, 1, 3, 8, 1],
 [0, 7, 7, 2, 3, 9, 0, 7, 1, 3, 8, 1, 0],
 [7, 7, 2, 3, 9, 0, 7, 1, 3, 8, 1, 0, 5],
 [7, 2, 3, 9, 0, 7, 1, 3, 8, 1, 0, 5, 1],
 [2, 3, 9, 0, 7, 1, 3, 8, 1, 0, 5, 1, 5],
 [3, 9, 0, 7, 1, 3, 8, 1, 0, 5, 1, 5, 8],
 [9, 0, 7, 1, 3, 8, 1, 0, 5, 1, 5, 8, 5],
 [0, 7, 1, 3, 8, 1, 0, 5, 1, 5, 8, 5, 9],
 [7, 1, 3, 8, 1, 0, 5, 1, 5, 8, 5, 9, 3],
 [1, 3, 8, 1, 0, 5, 1, 5, 8, 5, 9, 3, 0],
 [3, 8, 1, 0, 5, 1, 5, 8, 5, 9, 3, 0, 7],
 [8, 1, 0, 5, 1, 5, 8, 5, 9, 3, 0, 7, 9],
 [1, 0, 5, 1, 5, 8, 5, 9, 3, 0, 7, 9, 6],
 [0, 5, 1, 5, 8, 5, 9, 3, 0, 7, 9, 6, 0],
 [5, 1, 5, 8, 5, 9, 3, 0, 7, 9, 6, 0, 8],
 [1, 5, 8, 5, 9, 3, 0, 7, 9, 6, 0, 8, 6],
 [5, 8, 5, 9, 3, 0, 7, 9, 6, 0, 8, 6, 6],
 [8, 5, 9, 3, 0, 7, 9, 6, 0, 8, 6, 6, 7],
 [5, 9, 3, 0, 7, 9, 6, 0, 8, 6, 6, 7, 0],
 [9, 3, 0, 7, 9, 6, 0, 8, 6, 6, 7, 0, 1],
 [3, 0, 7, 9, 6, 0, 8, 6, 6, 7, 0, 1, 7],
 [0, 7, 9, 6, 0, 8, 6, 6, 7, 0, 1, 7, 2],
 [7, 9, 6, 0, 8, 6, 6, 7, 0, 1, 7, 2, 4],
 [9, 6, 0, 8, 6, 6, 7, 0, 1, 7, 2, 4, 2],
 [6, 0, 8, 6, 6, 7, 0, 1, 7, 2, 4, 2, 7],
 [0, 8, 6, 6, 7, 0, 1, 7, 2, 4, 2, 7, 1],
 [8, 6, 6, 7, 0, 1, 7, 2, 4, 2, 7, 1, 2],
 [6, 6, 7, 0, 1, 7, 2, 4, 2, 7, 1, 2, 1],
 [6, 7, 0, 1, 7, 2, 4, 2, 7, 1, 2, 1, 8],
 [7, 0, 1, 7, 2, 4, 2, 7, 1, 2, 1, 8, 8],
 [0, 1, 7, 2, 4, 2, 7, 1, 2, 1, 8, 8, 3],
 [1, 7, 2, 4, 2, 7, 1, 2, 1, 8, 8, 3, 9],
 [7, 2, 4, 2, 7, 1, 2, 1, 8, 8, 3, 9, 9],
 [2, 4, 2, 7, 1, 2, 1, 8, 8, 3, 9, 9, 8],
 [4, 2, 7, 1, 2, 1, 8, 8, 3, 9, 9, 8, 7],
 [2, 7, 1, 2, 1, 8, 8, 3, 9, 9, 8, 7, 9],
 [7, 1, 2, 1, 8, 8, 3, 9, 9, 8, 7, 9, 7],
 [1, 2, 1, 8, 8, 3, 9, 9, 8, 7, 9, 7, 9],
 [2, 1, 8, 8, 3, 9, 9, 8, 7, 9, 7, 9, 0],
 [1, 8, 8, 3, 9, 9, 8, 7, 9, 7, 9, 0, 8],
 [8, 8, 3, 9, 9, 8, 7, 9, 7, 9, 0, 8, 7],
 [8, 3, 9, 9, 8, 7, 9, 7, 9, 0, 8, 7, 9],
 [3, 9, 9, 8, 7, 9, 7, 9, 0, 8, 7, 9, 2],
 [9, 9, 8, 7, 9, 7, 9, 0, 8, 7, 9, 2, 2],
 [9, 8, 7, 9, 7, 9, 0, 8, 7, 9, 2, 2, 7],
 [8, 7, 9, 7, 9, 0, 8, 7, 9, 2, 2, 7, 4],
 [7, 9, 7, 9, 0, 8, 7, 9, 2, 2, 7, 4, 9],
 [9, 7, 9, 0, 8, 7, 9, 2, 2, 7, 4, 9, 2],
 [7, 9, 0, 8, 7, 9, 2, 2, 7, 4, 9, 2, 1],
 [9, 0, 8, 7, 9, 2, 2, 7, 4, 9, 2, 1, 9],
 [0, 8, 7, 9, 2, 2, 7, 4, 9, 2, 1, 9, 0],
 [8, 7, 9, 2, 2, 7, 4, 9, 2, 1, 9, 0, 1],
 [7, 9, 2, 2, 7, 4, 9, 2, 1, 9, 0, 1, 6],
 [9, 2, 2, 7, 4, 9, 2, 1, 9, 0, 1, 6, 9],
 [2, 2, 7, 4, 9, 2, 1, 9, 0, 1, 6, 9, 9],
 [2, 7, 4, 9, 2, 1, 9, 0, 1, 6, 9, 9, 7],
 [7, 4, 9, 2, 1, 9, 0, 1, 6, 9, 9, 7, 2],
 [4, 9, 2, 1, 9, 0, 1, 6, 9, 9, 7, 2, 0],
 [9, 2, 1, 9, 0, 1, 6, 9, 9, 7, 2, 0, 8],
 [2, 1, 9, 0, 1, 6, 9, 9, 7, 2, 0, 8, 8],
 [1, 9, 0, 1, 6, 9, 9, 7, 2, 0, 8, 8, 8],
 [9, 0, 1, 6, 9, 9, 7, 2, 0, 8, 8, 8, 0],
 [0, 1, 6, 9, 9, 7, 2, 0, 8, 8, 8, 0, 9],
 [1, 6, 9, 9, 7, 2, 0, 8, 8, 8, 0, 9, 3],
 [6, 9, 9, 7, 2, 0, 8, 8, 8, 0, 9, 3, 7],
 [9, 9, 7, 2, 0, 8, 8, 8, 0, 9, 3, 7, 7],
 [9, 7, 2, 0, 8, 8, 8, 0, 9, 3, 7, 7, 6],
 [7, 2, 0, 8, 8, 8, 0, 9, 3, 7, 7, 6, 6],
 [2, 0, 8, 8, 8, 0, 9, 3, 7, 7, 6, 6, 5],
 [0, 8, 8, 8, 0, 9, 3, 7, 7, 6, 6, 5, 7],
 [8, 8, 8, 0, 9, 3, 7, 7, 6, 6, 5, 7, 2],
 [8, 8, 0, 9, 3, 7, 7, 6, 6, 5, 7, 2, 7],
 [8, 0, 9, 3, 7, 7, 6, 6, 5, 7, 2, 7, 3],
 [0, 9, 3, 7, 7, 6, 6, 5, 7, 2, 7, 3, 3],
 [9, 3, 7, 7, 6, 6, 5, 7, 2, 7, 3, 3, 3],
 [3, 7, 7, 6, 6, 5, 7, 2, 7, 3, 3, 3, 0],
 [7, 7, 6, 6, 5, 7, 2, 7, 3, 3, 3, 0, 0],
 [7, 6, 6, 5, 7, 2, 7, 3, 3, 3, 0, 0, 1],
 [6, 6, 5, 7, 2, 7, 3, 3, 3, 0, 0, 1, 0],
 [6, 5, 7, 2, 7, 3, 3, 3, 0, 0, 1, 0, 5],
 [5, 7, 2, 7, 3, 3, 3, 0, 0, 1, 0, 5, 3],
 [7, 2, 7, 3, 3, 3, 0, 0, 1, 0, 5, 3, 3],
 [2, 7, 3, 3, 3, 0, 0, 1, 0, 5, 3, 3, 6],
 [7, 3, 3, 3, 0, 0, 1, 0, 5, 3, 3, 6, 7],
 [3, 3, 3, 0, 0, 1, 0, 5, 3, 3, 6, 7, 8],
 [3, 3, 0, 0, 1, 0, 5, 3, 3, 6, 7, 8, 8],
 [3, 0, 0, 1, 0, 5, 3, 3, 6, 7, 8, 8, 1],
 [0, 0, 1, 0, 5, 3, 3, 6, 7, 8, 8, 1, 2],
 [0, 1, 0, 5, 3, 3, 6, 7, 8, 8, 1, 2, 2],
 [1, 0, 5, 3, 3, 6, 7, 8, 8, 1, 2, 2, 0],
 [0, 5, 3, 3, 6, 7, 8, 8, 1, 2, 2, 0, 2],
 [5, 3, 3, 6, 7, 8, 8, 1, 2, 2, 0, 2, 3],
 [3, 3, 6, 7, 8, 8, 1, 2, 2, 0, 2, 3, 5],
 [3, 6, 7, 8, 8, 1, 2, 2, 0, 2, 3, 5, 4],
 [6, 7, 8, 8, 1, 2, 2, 0, 2, 3, 5, 4, 2],
 [7, 8, 8, 1, 2, 2, 0, 2, 3, 5, 4, 2, 1],
 [8, 8, 1, 2, 2, 0, 2, 3, 5, 4, 2, 1, 8],
 [8, 1, 2, 2, 0, 2, 3, 5, 4, 2, 1, 8, 0],
 [1, 2, 2, 0, 2, 3, 5, 4, 2, 1, 8, 0, 9],
 [2, 2, 0, 2, 3, 5, 4, 2, 1, 8, 0, 9, 7],
 [2, 0, 2, 3, 5, 4, 2, 1, 8, 0, 9, 7, 5],
 [0, 2, 3, 5, 4, 2, 1, 8, 0, 9, 7, 5, 1],
 [2, 3, 5, 4, 2, 1, 8, 0, 9, 7, 5, 1, 2],
 [3, 5, 4, 2, 1, 8, 0, 9, 7, 5, 1, 2, 5],
 [5, 4, 2, 1, 8, 0, 9, 7, 5, 1, 2, 5, 4],
 [4, 2, 1, 8, 0, 9, 7, 5, 1, 2, 5, 4, 5],
 [2, 1, 8, 0, 9, 7, 5, 1, 2, 5, 4, 5, 4],
 [1, 8, 0, 9, 7, 5, 1, 2, 5, 4, 5, 4, 0],
 [8, 0, 9, 7, 5, 1, 2, 5, 4, 5, 4, 0, 5],
 [0, 9, 7, 5, 1, 2, 5, 4, 5, 4, 0, 5, 9],
 [9, 7, 5, 1, 2, 5, 4, 5, 4, 0, 5, 9, 4],
 [7, 5, 1, 2, 5, 4, 5, 4, 0, 5, 9, 4, 7],
 [5, 1, 2, 5, 4, 5, 4, 0, 5, 9, 4, 7, 5],
 [1, 2, 5, 4, 5, 4, 0, 5, 9, 4, 7, 5, 2],
 [2, 5, 4, 5, 4, 0, 5, 9, 4, 7, 5, 2, 2],
 [5, 4, 5, 4, 0, 5, 9, 4, 7, 5, 2, 2, 4],
 [4, 5, 4, 0, 5, 9, 4, 7, 5, 2, 2, 4, 3],
 [5, 4, 0, 5, 9, 4, 7, 5, 2, 2, 4, 3, 5],
 [4, 0, 5, 9, 4, 7, 5, 2, 2, 4, 3, 5, 2],
 [0, 5, 9, 4, 7, 5, 2, 2, 4, 3, 5, 2, 5],
 [5, 9, 4, 7, 5, 2, 2, 4, 3, 5, 2, 5, 8],
 [9, 4, 7, 5, 2, 2, 4, 3, 5, 2, 5, 8, 4],
 [4, 7, 5, 2, 2, 4, 3, 5, 2, 5, 8, 4, 9],
 [7, 5, 2, 2, 4, 3, 5, 2, 5, 8, 4, 9, 0],
 [5, 2, 2, 4, 3, 5, 2, 5, 8, 4, 9, 0, 7],
 [2, 2, 4, 3, 5, 2, 5, 8, 4, 9, 0, 7, 7],
 [2, 4, 3, 5, 2, 5, 8, 4, 9, 0, 7, 7, 1],
 [4, 3, 5, 2, 5, 8, 4, 9, 0, 7, 7, 1, 1],
 [3, 5, 2, 5, 8, 4, 9, 0, 7, 7, 1, 1, 6],
 [5, 2, 5, 8, 4, 9, 0, 7, 7, 1, 1, 6, 7],
 [2, 5, 8, 4, 9, 0, 7, 7, 1, 1, 6, 7, 0],
 [5, 8, 4, 9, 0, 7, 7, 1, 1, 6, 7, 0, 5],
 [8, 4, 9, 0, 7, 7, 1, 1, 6, 7, 0, 5, 5],
 [4, 9, 0, 7, 7, 1, 1, 6, 7, 0, 5, 5, 6],
 [9, 0, 7, 7, 1, 1, 6, 7, 0, 5, 5, 6, 0],
 [0, 7, 7, 1, 1, 6, 7, 0, 5, 5, 6, 0, 1],
 [7, 7, 1, 1, 6, 7, 0, 5, 5, 6, 0, 1, 3],
 [7, 1, 1, 6, 7, 0, 5, 5, 6, 0, 1, 3, 6],
 [1, 1, 6, 7, 0, 5, 5, 6, 0, 1, 3, 6, 0],
 [1, 6, 7, 0, 5, 5, 6, 0, 1, 3, 6, 0, 4],
 [6, 7, 0, 5, 5, 6, 0, 1, 3, 6, 0, 4, 8],
 [7, 0, 5, 5, 6, 0, 1, 3, 6, 0, 4, 8, 3],
 [0, 5, 5, 6, 0, 1, 3, 6, 0, 4, 8, 3, 9],
 [5, 5, 6, 0, 1, 3, 6, 0, 4, 8, 3, 9, 5],
 [5, 6, 0, 1, 3, 6, 0, 4, 8, 3, 9, 5, 8],
 [6, 0, 1, 3, 6, 0, 4, 8, 3, 9, 5, 8, 6],
 [0, 1, 3, 6, 0, 4, 8, 3, 9, 5, 8, 6, 4],
 [1, 3, 6, 0, 4, 8, 3, 9, 5, 8, 6, 4, 4],
 [3, 6, 0, 4, 8, 3, 9, 5, 8, 6, 4, 4, 6],
 [6, 0, 4, 8, 3, 9, 5, 8, 6, 4, 4, 6, 7],
 [0, 4, 8, 3, 9, 5, 8, 6, 4, 4, 6, 7, 0],
 [4, 8, 3, 9, 5, 8, 6, 4, 4, 6, 7, 0, 6],
 [8, 3, 9, 5, 8, 6, 4, 4, 6, 7, 0, 6, 3],
 [3, 9, 5, 8, 6, 4, 4, 6, 7, 0, 6, 3, 2],
 [9, 5, 8, 6, 4, 4, 6, 7, 0, 6, 3, 2, 4],
 [5, 8, 6, 4, 4, 6, 7, 0, 6, 3, 2, 4, 4],
 [8, 6, 4, 4, 6, 7, 0, 6, 3, 2, 4, 4, 1],
 [6, 4, 4, 6, 7, 0, 6, 3, 2, 4, 4, 1, 5],
 [4, 4, 6, 7, 0, 6, 3, 2, 4, 4, 1, 5, 7],
 [4, 6, 7, 0, 6, 3, 2, 4, 4, 1, 5, 7, 2],
 [6, 7, 0, 6, 3, 2, 4, 4, 1, 5, 7, 2, 2],
 [7, 0, 6, 3, 2, 4, 4, 1, 5, 7, 2, 2, 1],
 [0, 6, 3, 2, 4, 4, 1, 5, 7, 2, 2, 1, 5],
 [6, 3, 2, 4, 4, 1, 5, 7, 2, 2, 1, 5, 5],
 [3, 2, 4, 4, 1, 5, 7, 2, 2, 1, 5, 5, 3],
 [2, 4, 4, 1, 5, 7, 2, 2, 1, 5, 5, 3, 9],
 [4, 4, 1, 5, 7, 2, 2, 1, 5, 5, 3, 9, 7],
 [4, 1, 5, 7, 2, 2, 1, 5, 5, 3, 9, 7, 5],
 [1, 5, 7, 2, 2, 1, 5, 5, 3, 9, 7, 5, 3],
 [5, 7, 2, 2, 1, 5, 5, 3, 9, 7, 5, 3, 6],
 [7, 2, 2, 1, 5, 5, 3, 9, 7, 5, 3, 6, 9],
 [2, 2, 1, 5, 5, 3, 9, 7, 5, 3, 6, 9, 7],
 [2, 1, 5, 5, 3, 9, 7, 5, 3, 6, 9, 7, 8],
 [1, 5, 5, 3, 9, 7, 5, 3, 6, 9, 7, 8, 1],
 [5, 5, 3, 9, 7, 5, 3, 6, 9, 7, 8, 1, 7],
 [5, 3, 9, 7, 5, 3, 6, 9, 7, 8, 1, 7, 9],
 [3, 9, 7, 5, 3, 6, 9, 7, 8, 1, 7, 9, 7],
 [9, 7, 5, 3, 6, 9, 7, 8, 1, 7, 9, 7, 7],
 [7, 5, 3, 6, 9, 7, 8, 1, 7, 9, 7, 7, 8],
 [5, 3, 6, 9, 7, 8, 1, 7, 9, 7, 7, 8, 4],
 [3, 6, 9, 7, 8, 1, 7, 9, 7, 7, 8, 4, 6],
 [6, 9, 7, 8, 1, 7, 9, 7, 7, 8, 4, 6, 1],
 [9, 7, 8, 1, 7, 9, 7, 7, 8, 4, 6, 1, 7],
 [7, 8, 1, 7, 9, 7, 7, 8, 4, 6, 1, 7, 4],
 [8, 1, 7, 9, 7, 7, 8, 4, 6, 1, 7, 4, 0],
 [1, 7, 9, 7, 7, 8, 4, 6, 1, 7, 4, 0, 6],
 [7, 9, 7, 7, 8, 4, 6, 1, 7, 4, 0, 6, 4],
 [9, 7, 7, 8, 4, 6, 1, 7, 4, 0, 6, 4, 9],
 [7, 7, 8, 4, 6, 1, 7, 4, 0, 6, 4, 9, 5],
 [7, 8, 4, 6, 1, 7, 4, 0, 6, 4, 9, 5, 5],
 [8, 4, 6, 1, 7, 4, 0, 6, 4, 9, 5, 5, 1],
 [4, 6, 1, 7, 4, 0, 6, 4, 9, 5, 5, 1, 4],
 [6, 1, 7, 4, 0, 6, 4, 9, 5, 5, 1, 4, 9],
 [1, 7, 4, 0, 6, 4, 9, 5, 5, 1, 4, 9, 2],
 [7, 4, 0, 6, 4, 9, 5, 5, 1, 4, 9, 2, 9],
 [4, 0, 6, 4, 9, 5, 5, 1, 4, 9, 2, 9, 0],
 [0, 6, 4, 9, 5, 5, 1, 4, 9, 2, 9, 0, 8],
 [6, 4, 9, 5, 5, 1, 4, 9, 2, 9, 0, 8, 6],
 [4, 9, 5, 5, 1, 4, 9, 2, 9, 0, 8, 6, 2],
 [9, 5, 5, 1, 4, 9, 2, 9, 0, 8, 6, 2, 5],
 [5, 5, 1, 4, 9, 2, 9, 0, 8, 6, 2, 5, 6],
 [5, 1, 4, 9, 2, 9, 0, 8, 6, 2, 5, 6, 9],
 [1, 4, 9, 2, 9, 0, 8, 6, 2, 5, 6, 9, 3],
 [4, 9, 2, 9, 0, 8, 6, 2, 5, 6, 9, 3, 2],
 [9, 2, 9, 0, 8, 6, 2, 5, 6, 9, 3, 2, 1],
 [2, 9, 0, 8, 6, 2, 5, 6, 9, 3, 2, 1, 9],
 [9, 0, 8, 6, 2, 5, 6, 9, 3, 2, 1, 9, 7],
 [0, 8, 6, 2, 5, 6, 9, 3, 2, 1, 9, 7, 8],
 [8, 6, 2, 5, 6, 9, 3, 2, 1, 9, 7, 8, 4],
 [6, 2, 5, 6, 9, 3, 2, 1, 9, 7, 8, 4, 6],
 [2, 5, 6, 9, 3, 2, 1, 9, 7, 8, 4, 6, 8],
 [5, 6, 9, 3, 2, 1, 9, 7, 8, 4, 6, 8, 6],
 [6, 9, 3, 2, 1, 9, 7, 8, 4, 6, 8, 6, 2],
 [9, 3, 2, 1, 9, 7, 8, 4, 6, 8, 6, 2, 2],
 [3, 2, 1, 9, 7, 8, 4, 6, 8, 6, 2, 2, 4],
 [2, 1, 9, 7, 8, 4, 6, 8, 6, 2, 2, 4, 8],
 [1, 9, 7, 8, 4, 6, 8, 6, 2, 2, 4, 8, 2],
 [9, 7, 8, 4, 6, 8, 6, 2, 2, 4, 8, 2, 8],
 [7, 8, 4, 6, 8, 6, 2, 2, 4, 8, 2, 8, 3],
 [8, 4, 6, 8, 6, 2, 2, 4, 8, 2, 8, 3, 9],
 [4, 6, 8, 6, 2, 2, 4, 8, 2, 8, 3, 9, 7],
 [6, 8, 6, 2, 2, 4, 8, 2, 8, 3, 9, 7, 2],
 [8, 6, 2, 2, 4, 8, 2, 8, 3, 9, 7, 2, 2],
 [6, 2, 2, 4, 8, 2, 8, 3, 9, 7, 2, 2, 4],
 [2, 2, 4, 8, 2, 8, 3, 9, 7, 2, 2, 4, 1],
 [2, 4, 8, 2, 8, 3, 9, 7, 2, 2, 4, 1, 3],
 [4, 8, 2, 8, 3, 9, 7, 2, 2, 4, 1, 3, 7],
 [8, 2, 8, 3, 9, 7, 2, 2, 4, 1, 3, 7, 5],
 [2, 8, 3, 9, 7, 2, 2, 4, 1, 3, 7, 5, 6],
 [8, 3, 9, 7, 2, 2, 4, 1, 3, 7, 5, 6, 5],
 [3, 9, 7, 2, 2, 4, 1, 3, 7, 5, 6, 5, 7],
 [9, 7, 2, 2, 4, 1, 3, 7, 5, 6, 5, 7, 0],
 [7, 2, 2, 4, 1, 3, 7, 5, 6, 5, 7, 0, 5],
 [2, 2, 4, 1, 3, 7, 5, 6, 5, 7, 0, 5, 6],
 [2, 4, 1, 3, 7, 5, 6, 5, 7, 0, 5, 6, 0],
 [4, 1, 3, 7, 5, 6, 5, 7, 0, 5, 6, 0, 5],
 [1, 3, 7, 5, 6, 5, 7, 0, 5, 6, 0, 5, 7],
 [3, 7, 5, 6, 5, 7, 0, 5, 6, 0, 5, 7, 4],
 [7, 5, 6, 5, 7, 0, 5, 6, 0, 5, 7, 4, 9],
 [5, 6, 5, 7, 0, 5, 6, 0, 5, 7, 4, 9, 0],
 [6, 5, 7, 0, 5, 6, 0, 5, 7, 4, 9, 0, 2],
 [5, 7, 0, 5, 6, 0, 5, 7, 4, 9, 0, 2, 6],
 [7, 0, 5, 6, 0, 5, 7, 4, 9, 0, 2, 6, 1],
 [0, 5, 6, 0, 5, 7, 4, 9, 0, 2, 6, 1, 4],
 [5, 6, 0, 5, 7, 4, 9, 0, 2, 6, 1, 4, 0],
 [6, 0, 5, 7, 4, 9, 0, 2, 6, 1, 4, 0, 7],
 [0, 5, 7, 4, 9, 0, 2, 6, 1, 4, 0, 7, 9],
 [5, 7, 4, 9, 0, 2, 6, 1, 4, 0, 7, 9, 7],
 [7, 4, 9, 0, 2, 6, 1, 4, 0, 7, 9, 7, 2],
 [4, 9, 0, 2, 6, 1, 4, 0, 7, 9, 7, 2, 9],
 [9, 0, 2, 6, 1, 4, 0, 7, 9, 7, 2, 9, 6],
 [0, 2, 6, 1, 4, 0, 7, 9, 7, 2, 9, 6, 8],
 [2, 6, 1, 4, 0, 7, 9, 7, 2, 9, 6, 8, 6],
 [6, 1, 4, 0, 7, 9, 7, 2, 9, 6, 8, 6, 5],
 [1, 4, 0, 7, 9, 7, 2, 9, 6, 8, 6, 5, 2],
 [4, 0, 7, 9, 7, 2, 9, 6, 8, 6, 5, 2, 4],
 [0, 7, 9, 7, 2, 9, 6, 8, 6, 5, 2, 4, 1],
 [7, 9, 7, 2, 9, 6, 8, 6, 5, 2, 4, 1, 4],
 [9, 7, 2, 9, 6, 8, 6, 5, 2, 4, 1, 4, 5],
 [7, 2, 9, 6, 8, 6, 5, 2, 4, 1, 4, 5, 3],
 [2, 9, 6, 8, 6, 5, 2, 4, 1, 4, 5, 3, 5],
 [9, 6, 8, 6, 5, 2, 4, 1, 4, 5, 3, 5, 1],
 [6, 8, 6, 5, 2, 4, 1, 4, 5, 3, 5, 1, 0],
 [8, 6, 5, 2, 4, 1, 4, 5, 3, 5, 1, 0, 0],
 [6, 5, 2, 4, 1, 4, 5, 3, 5, 1, 0, 0, 4],
 [5, 2, 4, 1, 4, 5, 3, 5, 1, 0, 0, 4, 7],
 [2, 4, 1, 4, 5, 3, 5, 1, 0, 0, 4, 7, 4],
 [4, 1, 4, 5, 3, 5, 1, 0, 0, 4, 7, 4, 8],
 [1, 4, 5, 3, 5, 1, 0, 0, 4, 7, 4, 8, 2],
 [4, 5, 3, 5, 1, 0, 0, 4, 7, 4, 8, 2, 1],
 [5, 3, 5, 1, 0, 0, 4, 7, 4, 8, 2, 1, 6],
 [3, 5, 1, 0, 0, 4, 7, 4, 8, 2, 1, 6, 6],
 [5, 1, 0, 0, 4, 7, 4, 8, 2, 1, 6, 6, 3],
 [1, 0, 0, 4, 7, 4, 8, 2, 1, 6, 6, 3, 7],
 [0, 0, 4, 7, 4, 8, 2, 1, 6, 6, 3, 7, 0],
 [0, 4, 7, 4, 8, 2, 1, 6, 6, 3, 7, 0, 4],
 [4, 7, 4, 8, 2, 1, 6, 6, 3, 7, 0, 4, 8],
 [7, 4, 8, 2, 1, 6, 6, 3, 7, 0, 4, 8, 4],
 [4, 8, 2, 1, 6, 6, 3, 7, 0, 4, 8, 4, 4],
 [8, 2, 1, 6, 6, 3, 7, 0, 4, 8, 4, 4, 0],
 [2, 1, 6, 6, 3, 7, 0, 4, 8, 4, 4, 0, 3],
 [1, 6, 6, 3, 7, 0, 4, 8, 4, 4, 0, 3, 1],
 [6, 6, 3, 7, 0, 4, 8, 4, 4, 0, 3, 1, 9],
 [6, 3, 7, 0, 4, 8, 4, 4, 0, 3, 1, 9, 9],
 [3, 7, 0, 4, 8, 4, 4, 0, 3, 1, 9, 9, 8],
 [7, 0, 4, 8, 4, 4, 0, 3, 1, 9, 9, 8, 9],
 [0, 4, 8, 4, 4, 0, 3, 1, 9, 9, 8, 9, 0],
 [4, 8, 4, 4, 0, 3, 1, 9, 9, 8, 9, 0, 0],
 [8, 4, 4, 0, 3, 1, 9, 9, 8, 9, 0, 0, 0],
 [4, 4, 0, 3, 1, 9, 9, 8, 9, 0, 0, 0, 8],
 [4, 0, 3, 1, 9, 9, 8, 9, 0, 0, 0, 8, 8],
 [0, 3, 1, 9, 9, 8, 9, 0, 0, 0, 8, 8, 9],
 [3, 1, 9, 9, 8, 9, 0, 0, 0, 8, 8, 9, 5],
 [1, 9, 9, 8, 9, 0, 0, 0, 8, 8, 9, 5, 2],
 [9, 9, 8, 9, 0, 0, 0, 8, 8, 9, 5, 2, 4],
 [9, 8, 9, 0, 0, 0, 8, 8, 9, 5, 2, 4, 3],
 [8, 9, 0, 0, 0, 8, 8, 9, 5, 2, 4, 3, 4],
 [9, 0, 0, 0, 8, 8, 9, 5, 2, 4, 3, 4, 5],
 [0, 0, 0, 8, 8, 9, 5, 2, 4, 3, 4, 5, 0],
 [0, 0, 8, 8, 9, 5, 2, 4, 3, 4, 5, 0, 6],
 [0, 8, 8, 9, 5, 2, 4, 3, 4, 5, 0, 6, 5],
 [8, 8, 9, 5, 2, 4, 3, 4, 5, 0, 6, 5, 8],
 [8, 9, 5, 2, 4, 3, 4, 5, 0, 6, 5, 8, 5],
 [9, 5, 2, 4, 3, 4, 5, 0, 6, 5, 8, 5, 4],
 [5, 2, 4, 3, 4, 5, 0, 6, 5, 8, 5, 4, 1],
 [2, 4, 3, 4, 5, 0, 6, 5, 8, 5, 4, 1, 2],
 [4, 3, 4, 5, 0, 6, 5, 8, 5, 4, 1, 2, 2],
 [3, 4, 5, 0, 6, 5, 8, 5, 4, 1, 2, 2, 7],
 [4, 5, 0, 6, 5, 8, 5, 4, 1, 2, 2, 7, 5],
 [5, 0, 6, 5, 8, 5, 4, 1, 2, 2, 7, 5, 8],
 [0, 6, 5, 8, 5, 4, 1, 2, 2, 7, 5, 8, 8],
 [6, 5, 8, 5, 4, 1, 2, 2, 7, 5, 8, 8, 6],
 [5, 8, 5, 4, 1, 2, 2, 7, 5, 8, 8, 6, 6],
 [8, 5, 4, 1, 2, 2, 7, 5, 8, 8, 6, 6, 6],
 [5, 4, 1, 2, 2, 7, 5, 8, 8, 6, 6, 6, 8],
 [4, 1, 2, 2, 7, 5, 8, 8, 6, 6, 6, 8, 8],
 [1, 2, 2, 7, 5, 8, 8, 6, 6, 6, 8, 8, 1],
 [2, 2, 7, 5, 8, 8, 6, 6, 6, 8, 8, 1, 1],
 [2, 7, 5, 8, 8, 6, 6, 6, 8, 8, 1, 1, 6],
 [7, 5, 8, 8, 6, 6, 6, 8, 8, 1, 1, 6, 4],
 [5, 8, 8, 6, 6, 6, 8, 8, 1, 1, 6, 4, 2],
 [8, 8, 6, 6, 6, 8, 8, 1, 1, 6, 4, 2, 7],
 [8, 6, 6, 6, 8, 8, 1, 1, 6, 4, 2, 7, 1],
 [6, 6, 6, 8, 8, 1, 1, 6, 4, 2, 7, 1, 7],
 [6, 6, 8, 8, 1, 1, 6, 4, 2, 7, 1, 7, 1],
 [6, 8, 8, 1, 1, 6, 4, 2, 7, 1, 7, 1, 4],
 [8, 8, 1, 1, 6, 4, 2, 7, 1, 7, 1, 4, 7],
 [8, 1, 1, 6, 4, 2, 7, 1, 7, 1, 4, 7, 9],
 [1, 1, 6, 4, 2, 7, 1, 7, 1, 4, 7, 9, 9],
 [1, 6, 4, 2, 7, 1, 7, 1, 4, 7, 9, 9, 2],
 [6, 4, 2, 7, 1, 7, 1, 4, 7, 9, 9, 2, 4],
 [4, 2, 7, 1, 7, 1, 4, 7, 9, 9, 2, 4, 4],
 [2, 7, 1, 7, 1, 4, 7, 9, 9, 2, 4, 4, 4],
 [7, 1, 7, 1, 4, 7, 9, 9, 2, 4, 4, 4, 2],
 [1, 7, 1, 4, 7, 9, 9, 2, 4, 4, 4, 2, 9],
 [7, 1, 4, 7, 9, 9, 2, 4, 4, 4, 2, 9, 2],
 [1, 4, 7, 9, 9, 2, 4, 4, 4, 2, 9, 2, 8],
 [4, 7, 9, 9, 2, 4, 4, 4, 2, 9, 2, 8, 2],
 [7, 9, 9, 2, 4, 4, 4, 2, 9, 2, 8, 2, 3],
 [9, 9, 2, 4, 4, 4, 2, 9, 2, 8, 2, 3, 0],
 [9, 2, 4, 4, 4, 2, 9, 2, 8, 2, 3, 0, 8],
 [2, 4, 4, 4, 2, 9, 2, 8, 2, 3, 0, 8, 6],
 [4, 4, 4, 2, 9, 2, 8, 2, 3, 0, 8, 6, 3],
 [4, 4, 2, 9, 2, 8, 2, 3, 0, 8, 6, 3, 4],
 [4, 2, 9, 2, 8, 2, 3, 0, 8, 6, 3, 4, 6],
 [2, 9, 2, 8, 2, 3, 0, 8, 6, 3, 4, 6, 5],
 [9, 2, 8, 2, 3, 0, 8, 6, 3, 4, 6, 5, 6],
 [2, 8, 2, 3, 0, 8, 6, 3, 4, 6, 5, 6, 7],
 [8, 2, 3, 0, 8, 6, 3, 4, 6, 5, 6, 7, 4],
 [2, 3, 0, 8, 6, 3, 4, 6, 5, 6, 7, 4, 8],
 [3, 0, 8, 6, 3, 4, 6, 5, 6, 7, 4, 8, 1],
 [0, 8, 6, 3, 4, 6, 5, 6, 7, 4, 8, 1, 3],
 [8, 6, 3, 4, 6, 5, 6, 7, 4, 8, 1, 3, 9],
 [6, 3, 4, 6, 5, 6, 7, 4, 8, 1, 3, 9, 1],
 [3, 4, 6, 5, 6, 7, 4, 8, 1, 3, 9, 1, 9],
 [4, 6, 5, 6, 7, 4, 8, 1, 3, 9, 1, 9, 1],
 [6, 5, 6, 7, 4, 8, 1, 3, 9, 1, 9, 1, 2],
 [5, 6, 7, 4, 8, 1, 3, 9, 1, 9, 1, 2, 3],
 [6, 7, 4, 8, 1, 3, 9, 1, 9, 1, 2, 3, 1],
 [7, 4, 8, 1, 3, 9, 1, 9, 1, 2, 3, 1, 6],
 [4, 8, 1, 3, 9, 1, 9, 1, 2, 3, 1, 6, 2],
 [8, 1, 3, 9, 1, 9, 1, 2, 3, 1, 6, 2, 8],
 [1, 3, 9, 1, 9, 1, 2, 3, 1, 6, 2, 8, 2],
 [3, 9, 1, 9, 1, 2, 3, 1, 6, 2, 8, 2, 4],
 [9, 1, 9, 1, 2, 3, 1, 6, 2, 8, 2, 4, 5],
 [1, 9, 1, 2, 3, 1, 6, 2, 8, 2, 4, 5, 8],
 [9, 1, 2, 3, 1, 6, 2, 8, 2, 4, 5, 8, 6],
 [1, 2, 3, 1, 6, 2, 8, 2, 4, 5, 8, 6, 1],
 [2, 3, 1, 6, 2, 8, 2, 4, 5, 8, 6, 1, 7],
 [3, 1, 6, 2, 8, 2, 4, 5, 8, 6, 1, 7, 8],
 [1, 6, 2, 8, 2, 4, 5, 8, 6, 1, 7, 8, 6],
 [6, 2, 8, 2, 4, 5, 8, 6, 1, 7, 8, 6, 6],
 [2, 8, 2, 4, 5, 8, 6, 1, 7, 8, 6, 6, 4],
 [8, 2, 4, 5, 8, 6, 1, 7, 8, 6, 6, 4, 5],
 [2, 4, 5, 8, 6, 1, 7, 8, 6, 6, 4, 5, 8],
 [4, 5, 8, 6, 1, 7, 8, 6, 6, 4, 5, 8, 3],
 [5, 8, 6, 1, 7, 8, 6, 6, 4, 5, 8, 3, 5],
 [8, 6, 1, 7, 8, 6, 6, 4, 5, 8, 3, 5, 9],
 [6, 1, 7, 8, 6, 6, 4, 5, 8, 3, 5, 9, 1],
 [1, 7, 8, 6, 6, 4, 5, 8, 3, 5, 9, 1, 2],
 [7, 8, 6, 6, 4, 5, 8, 3, 5, 9, 1, 2, 4],
 [8, 6, 6, 4, 5, 8, 3, 5, 9, 1, 2, 4, 5],
 [6, 6, 4, 5, 8, 3, 5, 9, 1, 2, 4, 5, 6],
 [6, 4, 5, 8, 3, 5, 9, 1, 2, 4, 5, 6, 6],
 [4, 5, 8, 3, 5, 9, 1, 2, 4, 5, 6, 6, 5],
 [5, 8, 3, 5, 9, 1, 2, 4, 5, 6, 6, 5, 2],
 [8, 3, 5, 9, 1, 2, 4, 5, 6, 6, 5, 2, 9],
 [3, 5, 9, 1, 2, 4, 5, 6, 6, 5, 2, 9, 4],
 [5, 9, 1, 2, 4, 5, 6, 6, 5, 2, 9, 4, 7],
 [9, 1, 2, 4, 5, 6, 6, 5, 2, 9, 4, 7, 6],
 [1, 2, 4, 5, 6, 6, 5, 2, 9, 4, 7, 6, 5],
 [2, 4, 5, 6, 6, 5, 2, 9, 4, 7, 6, 5, 4],
 [4, 5, 6, 6, 5, 2, 9, 4, 7, 6, 5, 4, 5],
 [5, 6, 6, 5, 2, 9, 4, 7, 6, 5, 4, 5, 6],
 [6, 6, 5, 2, 9, 4, 7, 6, 5, 4, 5, 6, 8],
 [6, 5, 2, 9, 4, 7, 6, 5, 4, 5, 6, 8, 2],
 [5, 2, 9, 4, 7, 6, 5, 4, 5, 6, 8, 2, 8],
 [2, 9, 4, 7, 6, 5, 4, 5, 6, 8, 2, 8, 4],
 [9, 4, 7, 6, 5, 4, 5, 6, 8, 2, 8, 4, 8],
 [4, 7, 6, 5, 4, 5, 6, 8, 2, 8, 4, 8, 9],
 [7, 6, 5, 4, 5, 6, 8, 2, 8, 4, 8, 9, 1],
 [6, 5, 4, 5, 6, 8, 2, 8, 4, 8, 9, 1, 2],
 [5, 4, 5, 6, 8, 2, 8, 4, 8, 9, 1, 2, 8],
 [4, 5, 6, 8, 2, 8, 4, 8, 9, 1, 2, 8, 8],
 [5, 6, 8, 2, 8, 4, 8, 9, 1, 2, 8, 8, 3],
 [6, 8, 2, 8, 4, 8, 9, 1, 2, 8, 8, 3, 1],
 [8, 2, 8, 4, 8, 9, 1, 2, 8, 8, 3, 1, 4],
 [2, 8, 4, 8, 9, 1, 2, 8, 8, 3, 1, 4, 2],
 [8, 4, 8, 9, 1, 2, 8, 8, 3, 1, 4, 2, 6],
 [4, 8, 9, 1, 2, 8, 8, 3, 1, 4, 2, 6, 0],
 [8, 9, 1, 2, 8, 8, 3, 1, 4, 2, 6, 0, 7],
 [9, 1, 2, 8, 8, 3, 1, 4, 2, 6, 0, 7, 6],
 [1, 2, 8, 8, 3, 1, 4, 2, 6, 0, 7, 6, 9],
 [2, 8, 8, 3, 1, 4, 2, 6, 0, 7, 6, 9, 0],
 [8, 8, 3, 1, 4, 2, 6, 0, 7, 6, 9, 0, 0],
 [8, 3, 1, 4, 2, 6, 0, 7, 6, 9, 0, 0, 4],
 [3, 1, 4, 2, 6, 0, 7, 6, 9, 0, 0, 4, 2],
 [1, 4, 2, 6, 0, 7, 6, 9, 0, 0, 4, 2, 2],
 [4, 2, 6, 0, 7, 6, 9, 0, 0, 4, 2, 2, 4],
 [2, 6, 0, 7, 6, 9, 0, 0, 4, 2, 2, 4, 2],
 [6, 0, 7, 6, 9, 0, 0, 4, 2, 2, 4, 2, 1],
 [0, 7, 6, 9, 0, 0, 4, 2, 2, 4, 2, 1, 9],
 [7, 6, 9, 0, 0, 4, 2, 2, 4, 2, 1, 9, 0],
 [6, 9, 0, 0, 4, 2, 2, 4, 2, 1, 9, 0, 2],
 [9, 0, 0, 4, 2, 2, 4, 2, 1, 9, 0, 2, 2],
 [0, 0, 4, 2, 2, 4, 2, 1, 9, 0, 2, 2, 6],
 [0, 4, 2, 2, 4, 2, 1, 9, 0, 2, 2, 6, 7],
 [4, 2, 2, 4, 2, 1, 9, 0, 2, 2, 6, 7, 1],
 [2, 2, 4, 2, 1, 9, 0, 2, 2, 6, 7, 1, 0],
 [2, 4, 2, 1, 9, 0, 2, 2, 6, 7, 1, 0, 5],
 [4, 2, 1, 9, 0, 2, 2, 6, 7, 1, 0, 5, 5],
 [2, 1, 9, 0, 2, 2, 6, 7, 1, 0, 5, 5, 6],
 [1, 9, 0, 2, 2, 6, 7, 1, 0, 5, 5, 6, 2],
 [9, 0, 2, 2, 6, 7, 1, 0, 5, 5, 6, 2, 6],
 [0, 2, 2, 6, 7, 1, 0, 5, 5, 6, 2, 6, 3],
 [2, 2, 6, 7, 1, 0, 5, 5, 6, 2, 6, 3, 2],
 [2, 6, 7, 1, 0, 5, 5, 6, 2, 6, 3, 2, 1],
 [6, 7, 1, 0, 5, 5, 6, 2, 6, 3, 2, 1, 1],
 [7, 1, 0, 5, 5, 6, 2, 6, 3, 2, 1, 1, 1],
 [1, 0, 5, 5, 6, 2, 6, 3, 2, 1, 1, 1, 1],
 [0, 5, 5, 6, 2, 6, 3, 2, 1, 1, 1, 1, 1],
 [5, 5, 6, 2, 6, 3, 2, 1, 1, 1, 1, 1, 0],
 [5, 6, 2, 6, 3, 2, 1, 1, 1, 1, 1, 0, 9],
 [6, 2, 6, 3, 2, 1, 1, 1, 1, 1, 0, 9, 3],
 [2, 6, 3, 2, 1, 1, 1, 1, 1, 0, 9, 3, 7],
 [6, 3, 2, 1, 1, 1, 1, 1, 0, 9, 3, 7, 0],
 [3, 2, 1, 1, 1, 1, 1, 0, 9, 3, 7, 0, 5],
 [2, 1, 1, 1, 1, 1, 0, 9, 3, 7, 0, 5, 4],
 [1, 1, 1, 1, 1, 0, 9, 3, 7, 0, 5, 4, 4],
 [1, 1, 1, 1, 0, 9, 3, 7, 0, 5, 4, 4, 2],
 [1, 1, 1, 0, 9, 3, 7, 0, 5, 4, 4, 2, 1],
 [1, 1, 0, 9, 3, 7, 0, 5, 4, 4, 2, 1, 7],
 [1, 0, 9, 3, 7, 0, 5, 4, 4, 2, 1, 7, 5],
 [0, 9, 3, 7, 0, 5, 4, 4, 2, 1, 7, 5, 0],
 [9, 3, 7, 0, 5, 4, 4, 2, 1, 7, 5, 0, 6],
 [3, 7, 0, 5, 4, 4, 2, 1, 7, 5, 0, 6, 9],
 [7, 0, 5, 4, 4, 2, 1, 7, 5, 0, 6, 9, 4],
 [0, 5, 4, 4, 2, 1, 7, 5, 0, 6, 9, 4, 1],
 [5, 4, 4, 2, 1, 7, 5, 0, 6, 9, 4, 1, 6],
 [4, 4, 2, 1, 7, 5, 0, 6, 9, 4, 1, 6, 5],
 [4, 2, 1, 7, 5, 0, 6, 9, 4, 1, 6, 5, 8],
 [2, 1, 7, 5, 0, 6, 9, 4, 1, 6, 5, 8, 9],
 [1, 7, 5, 0, 6, 9, 4, 1, 6, 5, 8, 9, 6],
 [7, 5, 0, 6, 9, 4, 1, 6, 5, 8, 9, 6, 0],
 [5, 0, 6, 9, 4, 1, 6, 5, 8, 9, 6, 0, 4],
 [0, 6, 9, 4, 1, 6, 5, 8, 9, 6, 0, 4, 0],
 [6, 9, 4, 1, 6, 5, 8, 9, 6, 0, 4, 0, 8],
 [9, 4, 1, 6, 5, 8, 9, 6, 0, 4, 0, 8, 0],
 [4, 1, 6, 5, 8, 9, 6, 0, 4, 0, 8, 0, 7],
 [1, 6, 5, 8, 9, 6, 0, 4, 0, 8, 0, 7, 1],
 [6, 5, 8, 9, 6, 0, 4, 0, 8, 0, 7, 1, 9],
 [5, 8, 9, 6, 0, 4, 0, 8, 0, 7, 1, 9, 8],
 [8, 9, 6, 0, 4, 0, 8, 0, 7, 1, 9, 8, 4],
 [9, 6, 0, 4, 0, 8, 0, 7, 1, 9, 8, 4, 0],
 [6, 0, 4, 0, 8, 0, 7, 1, 9, 8, 4, 0, 3],
 [0, 4, 0, 8, 0, 7, 1, 9, 8, 4, 0, 3, 8],
 [4, 0, 8, 0, 7, 1, 9, 8, 4, 0, 3, 8, 5],
 [0, 8, 0, 7, 1, 9, 8, 4, 0, 3, 8, 5, 0],
 [8, 0, 7, 1, 9, 8, 4, 0, 3, 8, 5, 0, 9],
 [0, 7, 1, 9, 8, 4, 0, 3, 8, 5, 0, 9, 6],
 [7, 1, 9, 8, 4, 0, 3, 8, 5, 0, 9, 6, 2],
 [1, 9, 8, 4, 0, 3, 8, 5, 0, 9, 6, 2, 4],
 [9, 8, 4, 0, 3, 8, 5, 0, 9, 6, 2, 4, 5],
 [8, 4, 0, 3, 8, 5, 0, 9, 6, 2, 4, 5, 5],
 [4, 0, 3, 8, 5, 0, 9, 6, 2, 4, 5, 5, 4],
 [0, 3, 8, 5, 0, 9, 6, 2, 4, 5, 5, 4, 4],
 [3, 8, 5, 0, 9, 6, 2, 4, 5, 5, 4, 4, 4],
 [8, 5, 0, 9, 6, 2, 4, 5, 5, 4, 4, 4, 3],
 [5, 0, 9, 6, 2, 4, 5, 5, 4, 4, 4, 3, 6],
 [0, 9, 6, 2, 4, 5, 5, 4, 4, 4, 3, 6, 2],
 [9, 6, 2, 4, 5, 5, 4, 4, 4, 3, 6, 2, 9],
 [6, 2, 4, 5, 5, 4, 4, 4, 3, 6, 2, 9, 8],
 [2, 4, 5, 5, 4, 4, 4, 3, 6, 2, 9, 8, 1],
 [4, 5, 5, 4, 4, 4, 3, 6, 2, 9, 8, 1, 2],
 [5, 5, 4, 4, 4, 3, 6, 2, 9, 8, 1, 2, 3],
 [5, 4, 4, 4, 3, 6, 2, 9, 8, 1, 2, 3, 0],
 [4, 4, 4, 3, 6, 2, 9, 8, 1, 2, 3, 0, 9],
 [4, 4, 3, 6, 2, 9, 8, 1, 2, 3, 0, 9, 8],
 [4, 3, 6, 2, 9, 8, 1, 2, 3, 0, 9, 8, 7],
 [3, 6, 2, 9, 8, 1, 2, 3, 0, 9, 8, 7, 8],
 [6, 2, 9, 8, 1, 2, 3, 0, 9, 8, 7, 8, 7],
 [2, 9, 8, 1, 2, 3, 0, 9, 8, 7, 8, 7, 9],
 [9, 8, 1, 2, 3, 0, 9, 8, 7, 8, 7, 9, 9],
 [8, 1, 2, 3, 0, 9, 8, 7, 8, 7, 9, 9, 2],
 [1, 2, 3, 0, 9, 8, 7, 8, 7, 9, 9, 2, 7],
 [2, 3, 0, 9, 8, 7, 8, 7, 9, 9, 2, 7, 2],
 [3, 0, 9, 8, 7, 8, 7, 9, 9, 2, 7, 2, 4],
 [0, 9, 8, 7, 8, 7, 9, 9, 2, 7, 2, 4, 4],
 [9, 8, 7, 8, 7, 9, 9, 2, 7, 2, 4, 4, 2],
 [8, 7, 8, 7, 9, 9, 2, 7, 2, 4, 4, 2, 8],
 [7, 8, 7, 9, 9, 2, 7, 2, 4, 4, 2, 8, 4],
 [8, 7, 9, 9, 2, 7, 2, 4, 4, 2, 8, 4, 9],
 [7, 9, 9, 2, 7, 2, 4, 4, 2, 8, 4, 9, 0],
 [9, 9, 2, 7, 2, 4, 4, 2, 8, 4, 9, 0, 9],
 [9, 2, 7, 2, 4, 4, 2, 8, 4, 9, 0, 9, 1],
 [2, 7, 2, 4, 4, 2, 8, 4, 9, 0, 9, 1, 8],
 [7, 2, 4, 4, 2, 8, 4, 9, 0, 9, 1, 8, 8],
 [2, 4, 4, 2, 8, 4, 9, 0, 9, 1, 8, 8, 8],
 [4, 4, 2, 8, 4, 9, 0, 9, 1, 8, 8, 8, 4],
 [4, 2, 8, 4, 9, 0, 9, 1, 8, 8, 8, 4, 5],
 [2, 8, 4, 9, 0, 9, 1, 8, 8, 8, 4, 5, 8],
 [8, 4, 9, 0, 9, 1, 8, 8, 8, 4, 5, 8, 0],
 [4, 9, 0, 9, 1, 8, 8, 8, 4, 5, 8, 0, 1],
 [9, 0, 9, 1, 8, 8, 8, 4, 5, 8, 0, 1, 5],
 [0, 9, 1, 8, 8, 8, 4, 5, 8, 0, 1, 5, 6],
 [9, 1, 8, 8, 8, 4, 5, 8, 0, 1, 5, 6, 1],
 [1, 8, 8, 8, 4, 5, 8, 0, 1, 5, 6, 1, 6],
 [8, 8, 8, 4, 5, 8, 0, 1, 5, 6, 1, 6, 6],
 [8, 8, 4, 5, 8, 0, 1, 5, 6, 1, 6, 6, 0],
 [8, 4, 5, 8, 0, 1, 5, 6, 1, 6, 6, 0, 9],
 [4, 5, 8, 0, 1, 5, 6, 1, 6, 6, 0, 9, 7],
 [5, 8, 0, 1, 5, 6, 1, 6, 6, 0, 9, 7, 9],
 [8, 0, 1, 5, 6, 1, 6, 6, 0, 9, 7, 9, 1],
 [0, 1, 5, 6, 1, 6, 6, 0, 9, 7, 9, 1, 9],
 [1, 5, 6, 1, 6, 6, 0, 9, 7, 9, 1, 9, 1],
 [5, 6, 1, 6, 6, 0, 9, 7, 9, 1, 9, 1, 3],
 [6, 1, 6, 6, 0, 9, 7, 9, 1, 9, 1, 3, 3],
 [1, 6, 6, 0, 9, 7, 9, 1, 9, 1, 3, 3, 8],
 [6, 6, 0, 9, 7, 9, 1, 9, 1, 3, 3, 8, 7],
 [6, 0, 9, 7, 9, 1, 9, 1, 3, 3, 8, 7, 5],
 [0, 9, 7, 9, 1, 9, 1, 3, 3, 8, 7, 5, 4],
 [9, 7, 9, 1, 9, 1, 3, 3, 8, 7, 5, 4, 9],
 [7, 9, 1, 9, 1, 3, 3, 8, 7, 5, 4, 9, 9],
 [9, 1, 9, 1, 3, 3, 8, 7, 5, 4, 9, 9, 2],
 [1, 9, 1, 3, 3, 8, 7, 5, 4, 9, 9, 2, 0],
 [9, 1, 3, 3, 8, 7, 5, 4, 9, 9, 2, 0, 0],
 [1, 3, 3, 8, 7, 5, 4, 9, 9, 2, 0, 0, 5],
 [3, 3, 8, 7, 5, 4, 9, 9, 2, 0, 0, 5, 2],
 [3, 8, 7, 5, 4, 9, 9, 2, 0, 0, 5, 2, 4],
 [8, 7, 5, 4, 9, 9, 2, 0, 0, 5, 2, 4, 0],
 [7, 5, 4, 9, 9, 2, 0, 0, 5, 2, 4, 0, 6],
 [5, 4, 9, 9, 2, 0, 0, 5, 2, 4, 0, 6, 3],
 [4, 9, 9, 2, 0, 0, 5, 2, 4, 0, 6, 3, 6],
 [9, 9, 2, 0, 0, 5, 2, 4, 0, 6, 3, 6, 8],
 [9, 2, 0, 0, 5, 2, 4, 0, 6, 3, 6, 8, 9],
 [2, 0, 0, 5, 2, 4, 0, 6, 3, 6, 8, 9, 9],
 [0, 0, 5, 2, 4, 0, 6, 3, 6, 8, 9, 9, 1],
 [0, 5, 2, 4, 0, 6, 3, 6, 8, 9, 9, 1, 2],
 [5, 2, 4, 0, 6, 3, 6, 8, 9, 9, 1, 2, 5],
 [2, 4, 0, 6, 3, 6, 8, 9, 9, 1, 2, 5, 6],
 [4, 0, 6, 3, 6, 8, 9, 9, 1, 2, 5, 6, 0],
 [0, 6, 3, 6, 8, 9, 9, 1, 2, 5, 6, 0, 7],
 [6, 3, 6, 8, 9, 9, 1, 2, 5, 6, 0, 7, 1],
 [3, 6, 8, 9, 9, 1, 2, 5, 6, 0, 7, 1, 7],
 [6, 8, 9, 9, 1, 2, 5, 6, 0, 7, 1, 7, 6],
 [8, 9, 9, 1, 2, 5, 6, 0, 7, 1, 7, 6, 0],
 [9, 9, 1, 2, 5, 6, 0, 7, 1, 7, 6, 0, 6],
 [9, 1, 2, 5, 6, 0, 7, 1, 7, 6, 0, 6, 0],
 [1, 2, 5, 6, 0, 7, 1, 7, 6, 0, 6, 0, 5],
 [2, 5, 6, 0, 7, 1, 7, 6, 0, 6, 0, 5, 8],
 [5, 6, 0, 7, 1, 7, 6, 0, 6, 0, 5, 8, 8],
 [6, 0, 7, 1, 7, 6, 0, 6, 0, 5, 8, 8, 6],
 [0, 7, 1, 7, 6, 0, 6, 0, 5, 8, 8, 6, 1],
 [7, 1, 7, 6, 0, 6, 0, 5, 8, 8, 6, 1, 1],
 [1, 7, 6, 0, 6, 0, 5, 8, 8, 6, 1, 1, 6],
 [7, 6, 0, 6, 0, 5, 8, 8, 6, 1, 1, 6, 4],
 [6, 0, 6, 0, 5, 8, 8, 6, 1, 1, 6, 4, 6],
 [0, 6, 0, 5, 8, 8, 6, 1, 1, 6, 4, 6, 7],
 [6, 0, 5, 8, 8, 6, 1, 1, 6, 4, 6, 7, 1],
 [0, 5, 8, 8, 6, 1, 1, 6, 4, 6, 7, 1, 0],
 [5, 8, 8, 6, 1, 1, 6, 4, 6, 7, 1, 0, 9],
 [8, 8, 6, 1, 1, 6, 4, 6, 7, 1, 0, 9, 4],
 [8, 6, 1, 1, 6, 4, 6, 7, 1, 0, 9, 4, 0],
 [6, 1, 1, 6, 4, 6, 7, 1, 0, 9, 4, 0, 5],
 [1, 1, 6, 4, 6, 7, 1, 0, 9, 4, 0, 5, 0],
 [1, 6, 4, 6, 7, 1, 0, 9, 4, 0, 5, 0, 7],
 [6, 4, 6, 7, 1, 0, 9, 4, 0, 5, 0, 7, 7],
 [4, 6, 7, 1, 0, 9, 4, 0, 5, 0, 7, 7, 5],
 [6, 7, 1, 0, 9, 4, 0, 5, 0, 7, 7, 5, 4],
 [7, 1, 0, 9, 4, 0, 5, 0, 7, 7, 5, 4, 1],
 [1, 0, 9, 4, 0, 5, 0, 7, 7, 5, 4, 1, 0],
 [0, 9, 4, 0, 5, 0, 7, 7, 5, 4, 1, 0, 0],
 [9, 4, 0, 5, 0, 7, 7, 5, 4, 1, 0, 0, 2],
 [4, 0, 5, 0, 7, 7, 5, 4, 1, 0, 0, 2, 2],
 [0, 5, 0, 7, 7, 5, 4, 1, 0, 0, 2, 2, 5],
 [5, 0, 7, 7, 5, 4, 1, 0, 0, 2, 2, 5, 6],
 [0, 7, 7, 5, 4, 1, 0, 0, 2, 2, 5, 6, 9],
 [7, 7, 5, 4, 1, 0, 0, 2, 2, 5, 6, 9, 8],
 [7, 5, 4, 1, 0, 0, 2, 2, 5, 6, 9, 8, 3],
 [5, 4, 1, 0, 0, 2, 2, 5, 6, 9, 8, 3, 1],
 [4, 1, 0, 0, 2, 2, 5, 6, 9, 8, 3, 1, 5],
 [1, 0, 0, 2, 2, 5, 6, 9, 8, 3, 1, 5, 5],
 [0, 0, 2, 2, 5, 6, 9, 8, 3, 1, 5, 5, 2],
 [0, 2, 2, 5, 6, 9, 8, 3, 1, 5, 5, 2, 0],
 [2, 2, 5, 6, 9, 8, 3, 1, 5, 5, 2, 0, 0],
 [2, 5, 6, 9, 8, 3, 1, 5, 5, 2, 0, 0, 0],
 [5, 6, 9, 8, 3, 1, 5, 5, 2, 0, 0, 0, 5],
 [6, 9, 8, 3, 1, 5, 5, 2, 0, 0, 0, 5, 5],
 [9, 8, 3, 1, 5, 5, 2, 0, 0, 0, 5, 5, 9],
 [8, 3, 1, 5, 5, 2, 0, 0, 0, 5, 5, 9, 3],
 [3, 1, 5, 5, 2, 0, 0, 0, 5, 5, 9, 3, 5],
 [1, 5, 5, 2, 0, 0, 0, 5, 5, 9, 3, 5, 7],
 [5, 5, 2, 0, 0, 0, 5, 5, 9, 3, 5, 7, 2],
 [5, 2, 0, 0, 0, 5, 5, 9, 3, 5, 7, 2, 9],
 [2, 0, 0, 0, 5, 5, 9, 3, 5, 7, 2, 9, 7],
 [0, 0, 0, 5, 5, 9, 3, 5, 7, 2, 9, 7, 2],
 [0, 0, 5, 5, 9, 3, 5, 7, 2, 9, 7, 2, 5],
 [0, 5, 5, 9, 3, 5, 7, 2, 9, 7, 2, 5, 7],
 [5, 5, 9, 3, 5, 7, 2, 9, 7, 2, 5, 7, 1],
 [5, 9, 3, 5, 7, 2, 9, 7, 2, 5, 7, 1, 6],
 [9, 3, 5, 7, 2, 9, 7, 2, 5, 7, 1, 6, 3],
 [3, 5, 7, 2, 9, 7, 2, 5, 7, 1, 6, 3, 6],
 [5, 7, 2, 9, 7, 2, 5, 7, 1, 6, 3, 6, 2],
 [7, 2, 9, 7, 2, 5, 7, 1, 6, 3, 6, 2, 6],
 [2, 9, 7, 2, 5, 7, 1, 6, 3, 6, 2, 6, 9],
 [9, 7, 2, 5, 7, 1, 6, 3, 6, 2, 6, 9, 5],
 [7, 2, 5, 7, 1, 6, 3, 6, 2, 6, 9, 5, 6],
 [2, 5, 7, 1, 6, 3, 6, 2, 6, 9, 5, 6, 1],
 [5, 7, 1, 6, 3, 6, 2, 6, 9, 5, 6, 1, 8],
 [7, 1, 6, 3, 6, 2, 6, 9, 5, 6, 1, 8, 8],
 [1, 6, 3, 6, 2, 6, 9, 5, 6, 1, 8, 8, 2],
 [6, 3, 6, 2, 6, 9, 5, 6, 1, 8, 8, 2, 6],
 [3, 6, 2, 6, 9, 5, 6, 1, 8, 8, 2, 6, 7],
 [6, 2, 6, 9, 5, 6, 1, 8, 8, 2, 6, 7, 0],
 [2, 6, 9, 5, 6, 1, 8, 8, 2, 6, 7, 0, 4],
 [6, 9, 5, 6, 1, 8, 8, 2, 6, 7, 0, 4, 2],
 [9, 5, 6, 1, 8, 8, 2, 6, 7, 0, 4, 2, 8],
 [5, 6, 1, 8, 8, 2, 6, 7, 0, 4, 2, 8, 2],
 [6, 1, 8, 8, 2, 6, 7, 0, 4, 2, 8, 2, 5],
 [1, 8, 8, 2, 6, 7, 0, 4, 2, 8, 2, 5, 2],
 [8, 8, 2, 6, 7, 0, 4, 2, 8, 2, 5, 2, 4],
 [8, 2, 6, 7, 0, 4, 2, 8, 2, 5, 2, 4, 8],
 [2, 6, 7, 0, 4, 2, 8, 2, 5, 2, 4, 8, 3],
 [6, 7, 0, 4, 2, 8, 2, 5, 2, 4, 8, 3, 6],
 [7, 0, 4, 2, 8, 2, 5, 2, 4, 8, 3, 6, 0],
 [0, 4, 2, 8, 2, 5, 2, 4, 8, 3, 6, 0, 0],
 [4, 2, 8, 2, 5, 2, 4, 8, 3, 6, 0, 0, 8],
 [2, 8, 2, 5, 2, 4, 8, 3, 6, 0, 0, 8, 2],
 [8, 2, 5, 2, 4, 8, 3, 6, 0, 0, 8, 2, 3],
 [2, 5, 2, 4, 8, 3, 6, 0, 0, 8, 2, 3, 2],
 [5, 2, 4, 8, 3, 6, 0, 0, 8, 2, 3, 2, 5],
 [2, 4, 8, 3, 6, 0, 0, 8, 2, 3, 2, 5, 7],
 [4, 8, 3, 6, 0, 0, 8, 2, 3, 2, 5, 7, 5],
 [8, 3, 6, 0, 0, 8, 2, 3, 2, 5, 7, 5, 3],
 [3, 6, 0, 0, 8, 2, 3, 2, 5, 7, 5, 3, 0],
 [6, 0, 0, 8, 2, 3, 2, 5, 7, 5, 3, 0, 4],
 [0, 0, 8, 2, 3, 2, 5, 7, 5, 3, 0, 4, 2],
 [0, 8, 2, 3, 2, 5, 7, 5, 3, 0, 4, 2, 0],
 [8, 2, 3, 2, 5, 7, 5, 3, 0, 4, 2, 0, 7],
 [2, 3, 2, 5, 7, 5, 3, 0, 4, 2, 0, 7, 5],
 [3, 2, 5, 7, 5, 3, 0, 4, 2, 0, 7, 5, 2],
 [2, 5, 7, 5, 3, 0, 4, 2, 0, 7, 5, 2, 9],
 [5, 7, 5, 3, 0, 4, 2, 0, 7, 5, 2, 9, 6],
 [7, 5, 3, 0, 4, 2, 0, 7, 5, 2, 9, 6, 3],
 [5, 3, 0, 4, 2, 0, 7, 5, 2, 9, 6, 3, 4],
 [3, 0, 4, 2, 0, 7, 5, 2, 9, 6, 3, 4, 5]]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [48]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">prod</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">iterable</span><span class="p">:</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">iterable</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Example: Compute $8!$</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [52]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">prod</span><span class="p">(</span><span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[52]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>40320</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [53]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="nb">map</span><span class="p">(</span><span class="n">prod</span><span class="p">,</span> <span class="n">window</span><span class="p">(</span><span class="n">num_to_array</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="mi">13</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[53]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[5000940,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 4199040,
 4898880,
 9797760,
 9797760,
 2177280,
 13063680,
 7257600,
 25401600,
 50803200,
 71124480,
 284497920,
 568995840,
 189665280,
 158054400,
 112896000,
 84672000,
 84672000,
 381024000,
 63504000,
 114307200,
 65318400,
 146966400,
 62985600,
 62985600,
 283435200,
 566870400,
 1020366720,
 1632586752,
 1632586752,
 2040733440,
 453496320,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 78382080,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 371589120,
 2972712960,
 1857945600,
 2477260800,
 1651507200,
 412876800,
 294912000,
 221184000,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 235146240,
 167961600,
 188956800,
 104976000,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 42865200,
 342921600,
 244944000,
 244944000,
 69984000,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 812851200,
 812851200,
 270950400,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 6270566400,
 14108774400,
 23514624000,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 3225600,
 2419200,
 604800,
 967680,
 2419200,
 3628800,
 3628800,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 677376,
 225792,
 28224,
 4032,
 12096,
 72576,
 145152,
 145152,
 290304,
 373248,
 1492992,
 6718464,
 6718464,
 3359232,
 2239488,
 6718464,
 20155392,
 53747712,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 13063680,
 3265920,
 26127360,
 17418240,
 27869184,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 424673280,
 495452160,
 495452160,
 1114767360,
 836075520,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 2709504,
 24385536,
 27869184,
 97542144,
 219469824,
 768144384,
 987614208,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 630118440,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 120960000,
 96768000,
 96768000,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 2016000,
 1008000,
 3024000,
 10584000,
 13230000,
 9922500,
 59535000,
 107163000,
 107163000,
 428652000,
 214326000,
 1500282000,
 2700507600,
 3780710640,
 8821658160,
 7841473920,
 4480842240,
 5377010688,
 1792336896,
 2091059712,
 929359872,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 313528320,
 235146240,
 313528320,
 940584960,
 376233984,
 125411328,
 55738368,
 148635648,
 148635648,
 1189085184,
 396361728,
 509607936,
 445906944,
 222953472,
 74317824,
 37158912,
 6193152,
 9289728,
 32514048,
 40642560,
 30481920,
 76204800,
 66679200,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 365783040,
 261273600,
 87091200,
 62208000,
 31104000,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 258048000,
 258048000,
 309657600,
 309657600,
 495452160,
 123863040,
 123863040,
 371589120,
 743178240,
 212336640,
 297271296,
 37158912,
 32514048,
 5419008,
 3612672,
 4214784,
 4741632,
 5334336,
 10668672,
 42674688,
 28449792,
 28449792,
 28449792,
 36578304,
 73156608,
 83607552,
 167215104,
 125411328,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 627056640,
 78382080,
 117573120,
 39191040,
 19595520,
 9797760,
 1959552,
 1959552,
 559872,
 1119744,
 279936,
 1119744,
 1866240,
 1658880,
 9953280,
 1105920,
 7741440,
 30965760,
 61931520,
 371589120,
 247726080,
 619315200,
 619315200,
 928972800,
 1161216000,
 2090188800,
 261273600,
 87091200,
 348364800,
 248832000,
 186624000,
 186624000,
 155520000,
 77760000,
 139968000,
 69984000,
 163296000,
 195955200,
 108864000,
 435456000,
 1088640000,
 1632960000,
 2612736000,
 870912000,
 1161216000,
 928972800,
 3715891200,
 3715891200,
 928972800,
 265420800,
 353894400,
 566231040,
 424673280,
 84934656,
 56623104,
 14155776,
 42467328,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 223948800,
 199065600,
 33177600,
 33177600,
 24883200,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 2048385024,
 1820786688,
 910393344,
 1170505728,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 462944160,
 462944160,
 132269760,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 208372500,
 250047000,
 150028200,
 100018800,
 66679200,
 80015040,
 102876480,
 257191200,
 171460800,
 24494400,
 97977600,
 156764160,
 44789760,
 268738560,
 313528320,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0,
 0]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [54]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="nb">max</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">prod</span><span class="p">,</span> <span class="n">window</span><span class="p">(</span><span class="n">num_to_array</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="mi">13</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[54]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>23514624000</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [56]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="nb">max</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">prod</span><span class="p">,</span> <span class="n">window</span><span class="p">(</span><span class="n">num_to_array</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="mi">4</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[56]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>5832</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Given the frequency of 0's when applying the sliding window, the next optimization to consider is skipping over windows containing at least one zero.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [60]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="n">Counter</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">prod</span><span class="p">,</span> <span class="n">window</span><span class="p">(</span><span class="n">num_to_array</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="mi">13</span><span class="p">)))</span><span class="o">.</span><span class="n">most_common</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[60]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[(0, 724),
 (928972800, 3),
 (495452160, 3),
 (6718464, 3),
 (371589120, 3),
 (28449792, 3),
 (313528320, 3),
 (9797760, 3),
 (78382080, 2),
 (1959552, 2),
 (186624000, 2),
 (235146240, 2),
 (27869184, 2),
 (3628800, 2),
 (258048000, 2),
 (3715891200, 2),
 (87091200, 2),
 (33177600, 2),
 (69984000, 2),
 (619315200, 2),
 (32514048, 2),
 (424673280, 2),
 (148635648, 2),
 (2419200, 2),
 (309657600, 2),
 (13063680, 2),
 (244944000, 2),
 (107163000, 2),
 (125411328, 2),
 (261273600, 2),
 (66679200, 2),
 (62985600, 2),
 (145152, 2),
 (462944160, 2),
 (96768000, 2),
 (37158912, 2),
 (1161216000, 2),
 (1632586752, 2),
 (1119744, 2),
 (123863040, 2),
 (812851200, 2),
 (84672000, 2),
 (189665280, 1),
 (1651507200, 1),
 (348364800, 1),
 (297271296, 1),
 (19595520, 1),
 (171460800, 1),
 (1008000, 1),
 (3359232, 1),
 (250047000, 1),
 (566231040, 1),
 (2016000, 1),
 (630118440, 1),
 (3024000, 1),
 (62208000, 1),
 (97977600, 1),
 (42865200, 1),
 (7841473920, 1),
 (743178240, 1),
 (2709504, 1),
 (71124480, 1),
 (132269760, 1),
 (30965760, 1),
 (4898880, 1),
 (1492992, 1),
 (268738560, 1),
 (5419008, 1),
 (14155776, 1),
 (1866240, 1),
 (5377010688, 1),
 (2091059712, 1),
 (376233984, 1),
 (1189085184, 1),
 (76204800, 1),
 (61931520, 1),
 (212336640, 1),
 (1820786688, 1),
 (2612736000, 1),
 (967680, 1),
 (73156608, 1),
 (453496320, 1),
 (65318400, 1),
 (44789760, 1),
 (4199040, 1),
 (10584000, 1),
 (627056640, 1),
 (42467328, 1),
 (14108774400, 1),
 (114307200, 1),
 (24883200, 1),
 (1500282000, 1),
 (59535000, 1),
 (1114767360, 1),
 (100018800, 1),
 (1088640000, 1),
 (7741440, 1),
 (26127360, 1),
 (3780710640, 1),
 (102876480, 1),
 (5334336, 1),
 (4214784, 1),
 (677376, 1),
 (270950400, 1),
 (84934656, 1),
 (265420800, 1),
 (55738368, 1),
 (283435200, 1),
 (445906944, 1),
 (219469824, 1),
 (23514624000, 1),
 (353894400, 1),
 (25401600, 1),
 (199065600, 1),
 (412876800, 1),
 (155520000, 1),
 (4741632, 1),
 (604800, 1),
 (20155392, 1),
 (870912000, 1),
 (24385536, 1),
 (31104000, 1),
 (3612672, 1),
 (5000940, 1),
 (3265920, 1),
 (1658880, 1),
 (30481920, 1),
 (2090188800, 1),
 (1792336896, 1),
 (63504000, 1),
 (2972712960, 1),
 (381024000, 1),
 (188956800, 1),
 (163296000, 1),
 (53747712, 1),
 (1632960000, 1),
 (83607552, 1),
 (56623104, 1),
 (566870400, 1),
 (208372500, 1),
 (108864000, 1),
 (9953280, 1),
 (294912000, 1),
 (257191200, 1),
 (8821658160, 1),
 (247726080, 1),
 (284497920, 1),
 (167961600, 1),
 (195955200, 1),
 (279936, 1),
 (97542144, 1),
 (1170505728, 1),
 (12096, 1),
 (24494400, 1),
 (146966400, 1),
 (222953472, 1),
 (112896000, 1),
 (36578304, 1),
 (1105920, 1),
 (10668672, 1),
 (373248, 1),
 (509607936, 1),
 (248832000, 1),
 (156764160, 1),
 (2239488, 1),
 (40642560, 1),
 (987614208, 1),
 (290304, 1),
 (42674688, 1),
 (104976000, 1),
 (7257600, 1),
 (836075520, 1),
 (1020366720, 1),
 (28224, 1),
 (910393344, 1),
 (139968000, 1),
 (568995840, 1),
 (9289728, 1),
 (117573120, 1),
 (342921600, 1),
 (50803200, 1),
 (929359872, 1),
 (74317824, 1),
 (1857945600, 1),
 (214326000, 1),
 (2048385024, 1),
 (768144384, 1),
 (150028200, 1),
 (940584960, 1),
 (120960000, 1),
 (6270566400, 1),
 (13230000, 1),
 (77760000, 1),
 (365783040, 1),
 (6193152, 1),
 (4032, 1),
 (9922500, 1),
 (3225600, 1),
 (435456000, 1),
 (158054400, 1),
 (2177280, 1),
 (2700507600, 1),
 (17418240, 1),
 (4480842240, 1),
 (396361728, 1),
 (221184000, 1),
 (428652000, 1),
 (72576, 1),
 (223948800, 1),
 (2477260800, 1),
 (39191040, 1),
 (559872, 1),
 (80015040, 1),
 (2040733440, 1),
 (225792, 1),
 (167215104, 1)]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre> 
</pre></div>

</div>
</div>
</div>

</div>
    </div>
  </div>

    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="project-euler/problem-7-10001st-prime.html" class="u-url">Project Euler Problem 7: 10001st prime</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Louis Tiao</span></p>
            <p class="dateline"><a href="project-euler/problem-7-10001st-prime.html" rel="bookmark"><time class="published dt-published" datetime="2015-04-03T14:34:35+11:00" itemprop="datePublished" title="Publication date">2015-04-03 14:34</time></a></p>
                <p class="commentline">            <a href="project-euler/problem-7-10001st-prime.html#disqus_thread" data-disqus-identifier="cache/posts/project-euler/problem-7-10001st-prime.html">Comments</a>


        </p>
</div>
    </header>
    <div class="p-summary entry-summary">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Project-Euler---Problem-7">Project Euler - Problem 7<a class="anchor-link" href="project-euler/problem-7-10001st-prime.html#Project-Euler---Problem-7">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>By listing the first six prime numbers: 2, 3, 5, 7, 11, and 13, we can see that the 6th prime is 13.</p>
<p>What is the 10001st prime number?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Sieve-of-Eratosthenes">Sieve of Eratosthenes<a class="anchor-link" href="project-euler/problem-7-10001st-prime.html#Sieve-of-Eratosthenes">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Previously, we implemented the Sieve of Eratosthenes. However, our implementation demands an integer $m$ and can only generate primes less than $m$. While some approximation algorithms for determining the $n$th prime are available, we would like to produce an exact solution. Hence, we must implement a prime sieve that does not require an upper bound.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">itertools</span> <span class="k">import</span> <span class="n">count</span><span class="p">,</span> <span class="n">islice</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">defaultdict</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">_sieve_of_eratosthenes</span><span class="p">():</span>
    <span class="n">factors</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">set</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">count</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">factors</span><span class="p">[</span><span class="n">n</span><span class="p">]:</span>
            <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">factors</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="n">factors</span><span class="p">[</span><span class="n">n</span><span class="o">+</span><span class="n">m</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">factors</span><span class="p">[</span><span class="n">n</span><span class="o">*</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">n</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">list</span><span class="p">(</span><span class="n">islice</span><span class="p">(</span><span class="n">_sieve_of_eratosthenes</span><span class="p">(),</span> <span class="mi">20</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[3]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">get_prime</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="nb">next</span><span class="p">(</span><span class="n">islice</span><span class="p">(</span><span class="n">_sieve_of_eratosthenes</span><span class="p">(),</span> <span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c"># The Project Euler problem</span>
<span class="c"># uses the 1-based index.</span>
<span class="n">get_prime</span><span class="p">(</span><span class="mi">10001</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[5]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>104743</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This implementation scales quite well, and has good space and time complexity.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">get_prime</span><span class="p">(</span><span class="mi">10</span><span class="o">**</span><span class="mi">6</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[6]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>15485867</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre> 
</pre></div>

</div>
</div>
</div>

</div>
    </div>
  </div>

    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="project-euler/problem-6-sum-square-difference.html" class="u-url">Project Euler Problem 6: Sum square difference</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Louis Tiao</span></p>
            <p class="dateline"><a href="project-euler/problem-6-sum-square-difference.html" rel="bookmark"><time class="published dt-published" datetime="2015-04-03T14:34:04+11:00" itemprop="datePublished" title="Publication date">2015-04-03 14:34</time></a></p>
                <p class="commentline">            <a href="project-euler/problem-6-sum-square-difference.html#disqus_thread" data-disqus-identifier="cache/posts/project-euler/problem-6-sum-square-difference.html">Comments</a>


        </p>
</div>
    </header>
    <div class="p-summary entry-summary">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Project-Euler---Problem-6">Project Euler - Problem 6<a class="anchor-link" href="project-euler/problem-6-sum-square-difference.html#Project-Euler---Problem-6">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The sum of the squares of the first ten natural numbers is,</p>
$$1^2 + 2^2 + ... + 10^2 = 385$$<p>The square of the sum of the first ten natural numbers is,</p>
$$(1 + 2 + ... + 10)^2 = 55^2 = 3025$$<p>Hence the difference between the sum of the squares of the first ten natural numbers and the square of the sum is 3025 − 385 = 2640.</p>
<p>Find the difference between the sum of the squares of the first one hundred natural numbers and the square of the sum.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-1">Version 1<a class="anchor-link" href="project-euler/problem-6-sum-square-difference.html#Version-1">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">sum_sq_diff</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="n">i</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">sum_sq_diff</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[8]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>2640</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">sum_sq_diff</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[9]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>25164150</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-2---Simple-Math">Version 2 - Simple Math<a class="anchor-link" href="project-euler/problem-6-sum-square-difference.html#Version-2---Simple-Math">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
$$\sum_{k=1}^{n} k^2 = \frac{n(n+1)(2n+1)}{6}$$
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
$$\sum_{k=1}^{n} k = \frac{n(n+1)}{2}$$
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
$$\left(\sum_{k=1}^{n} k\right)^2 - \sum_{k=1}^{n} k^2 = \left(\frac{n(n+1)}{2}\right)^2 - \frac{n(n+1)(2n+1)}{6} = \frac{n(3n+2)(n-1)(n+1)}{12}$$
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">sum_sq_diff</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">12</span> 
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">sum_sq_diff</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[15]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>25164150</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Doesn't get simpler than this..?</p>

</div>
</div>
</div>
    </div>
  </div>

    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="project-euler/problem-5-smallest-multiple.html" class="u-url">Project Euler Problem 5: Smallest multiple</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Louis Tiao</span></p>
            <p class="dateline"><a href="project-euler/problem-5-smallest-multiple.html" rel="bookmark"><time class="published dt-published" datetime="2015-04-03T14:33:41+11:00" itemprop="datePublished" title="Publication date">2015-04-03 14:33</time></a></p>
                <p class="commentline">            <a href="project-euler/problem-5-smallest-multiple.html#disqus_thread" data-disqus-identifier="cache/posts/project-euler/problem-5-smallest-multiple.html">Comments</a>


        </p>
</div>
    </header>
    <div class="p-summary entry-summary">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Project-Euler---Problem-5">Project Euler - Problem 5<a class="anchor-link" href="project-euler/problem-5-smallest-multiple.html#Project-Euler---Problem-5">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>2520 is the smallest number that can be divided by each of the numbers from 1 to 10 without any remainder.</p>
<p>What is the smallest positive number that is evenly divisible by all of the numbers from 1 to 20?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">all_divides</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">m</span><span class="p">,</span> <span class="o">*</span><span class="n">numbers</span><span class="p">:</span> <span class="nb">all</span><span class="p">(</span><span class="n">m</span> <span class="o">%</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">all_divides</span><span class="p">(</span><span class="mi">2520</span><span class="p">,</span> <span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[2]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The least common multiple of the numbers 1 to 10 is 2520. We are asked to find that of the numbers 1 to 20.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-1---Integer-Factorization">Version 1 - Integer Factorization<a class="anchor-link" href="project-euler/problem-5-smallest-multiple.html#Version-1---Integer-Factorization">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We already implemented <code>lcm</code> in problem 3, and the easiest way would be for us to simply use that. However, as we mentioned, it is not very efficient. Let's instead look at other ways of implementing it.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-2---Simple-algorithm">Version 2 - Simple algorithm<a class="anchor-link" href="project-euler/problem-5-smallest-multiple.html#Version-2---Simple-algorithm">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Given a list of $n$ integers $X = (x_1, x_2, \dotsc, x_n)$, we can find the least common multiple of the integers in $X$ by the following:</p>
<p>Let $X^{(0)} = (x_1^{(0)}, x_2^{(0)}, \dotsc, x_n^{(0)}) = (x_1, x_2, \dotsc, x_n) = X$ and $X^{(m+1)} = (x_1^{(m+1)}, x_2^{(m+1)}, \dotsc, x_n^{(m+1)})$ where</p>
$$
x_k^{(m+1)} = x_k^{(m)} + \begin{cases}
    x_k^{(0)} &amp; \text{if } \min(X^{(m)}) = x_k^{(m)} \\
    0         &amp; \text{otherwise}
\end{cases}
$$<p>Once all $X$ are equal, it every entry is the LCM.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c"># First we need a predicate to test </span>
<span class="c"># if all elements of a list are equal</span>
<span class="c"># There are a number of ways to do this</span>
<span class="n">pairs</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">lst</span><span class="p">:</span> <span class="nb">zip</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">lst</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">all_equals</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">lst</span><span class="p">:</span> <span class="nb">all</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">y</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">pairs</span><span class="p">)</span>
<span class="n">all_equals</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">lst</span><span class="p">:</span> <span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="n">lst</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">all_equals</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">lst</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">lst</span><span class="p">))</span> <span class="o">&lt;</span> <span class="mi">2</span>

<span class="c"># We'll also need argmin. Note that NumPy</span>
<span class="c"># comes bundled with all of these, but </span>
<span class="c"># they're trivial, why not implement them ourselves!</span>
<span class="n">argmin</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">lst</span><span class="p">:</span> <span class="n">lst</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">lst</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">_lcm_recursive</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">nums_new</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">all_equals</span><span class="p">(</span><span class="n">nums_new</span><span class="p">):</span> 
        <span class="c"># return any element </span>
        <span class="c"># why not the first one</span>
        <span class="k">return</span> <span class="n">nums_new</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">k</span> <span class="o">=</span> <span class="n">argmin</span><span class="p">(</span><span class="n">nums_new</span><span class="p">)</span>
    <span class="n">nums_new</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">+=</span> <span class="n">nums</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">_lcm</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">nums_new</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_lcm_iterative</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
    <span class="n">nums_new</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span> <span class="c"># remember to use list for deep copy</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">all_equals</span><span class="p">(</span><span class="n">nums_new</span><span class="p">):</span>
        <span class="n">k</span> <span class="o">=</span> <span class="n">argmin</span><span class="p">(</span><span class="n">nums_new</span><span class="p">)</span>
        <span class="n">nums_new</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">+=</span> <span class="n">nums</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">nums_new</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c"># comment one out</span>
<span class="n">lcm</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">*</span><span class="n">nums</span><span class="p">:</span> <span class="n">_lcm_recursive</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">nums</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="n">nums</span><span class="p">))</span>
<span class="n">lcm</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">*</span><span class="n">nums</span><span class="p">:</span> <span class="n">_lcm_iterative</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">lcm</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>  <span class="mi">21</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[5]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>84</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">lcm</span><span class="p">(</span><span class="o">*</span><span class="n">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[15]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>2520</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">lcm</span><span class="p">(</span><span class="o">*</span><span class="n">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This is way too slow! Let's try something else!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-3---Division-by-Primes">Version 3 - Division by Primes<a class="anchor-link" href="project-euler/problem-5-smallest-multiple.html#Version-3---Division-by-Primes">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>The autoreload extension is already loaded. To reload it, use:
  %reload_ext autoreload
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">common.utils</span> <span class="k">import</span> <span class="n">prime_range</span><span class="p">,</span> <span class="n">reconstruct</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">defaultdict</span><span class="p">,</span> <span class="n">Counter</span>

<span class="k">def</span> <span class="nf">_lcm_prime_divisors</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
    <span class="n">divides_count</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">prime_range</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="n">n</span> <span class="o">%</span> <span class="n">p</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">+=</span> <span class="mi">1</span> 
                <span class="n">n</span> <span class="o">/=</span> <span class="n">p</span>
            <span class="k">if</span> <span class="n">tmp</span> <span class="o">&gt;</span> <span class="n">divides_count</span><span class="p">[</span><span class="n">p</span><span class="p">]:</span>
                <span class="n">divides_count</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span>
    <span class="k">return</span> <span class="n">reconstruct</span><span class="p">(</span><span class="n">divides_count</span><span class="p">)</span>

<span class="n">lcm</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">*</span><span class="n">nums</span><span class="p">:</span> <span class="n">_lcm_prime_divisors</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">lcm</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>  <span class="mi">21</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[37]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>84</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">lcm</span><span class="p">(</span><span class="o">*</span><span class="n">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[38]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>2520</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">lcm</span><span class="p">(</span><span class="o">*</span><span class="n">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[39]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>232792560</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>MUCH better.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-4---GCD-and-the-Euclidean-algorithm">Version 4 - GCD and the Euclidean algorithm<a class="anchor-link" href="project-euler/problem-5-smallest-multiple.html#Version-4---GCD-and-the-Euclidean-algorithm">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
$$\mathrm{lcd}(a, b) = \frac{a \cdot b}{\mathrm{gcd}(a, b)}$$
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre> 
</pre></div>

</div>
</div>
</div>

</div>
    </div>
  </div>

    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="project-euler/problem-4-largest-palindrome-product.html" class="u-url">Project Euler Problem 4: Largest palindrome product</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Louis Tiao</span></p>
            <p class="dateline"><a href="project-euler/problem-4-largest-palindrome-product.html" rel="bookmark"><time class="published dt-published" datetime="2015-04-03T14:33:15+11:00" itemprop="datePublished" title="Publication date">2015-04-03 14:33</time></a></p>
                <p class="commentline">            <a href="project-euler/problem-4-largest-palindrome-product.html#disqus_thread" data-disqus-identifier="cache/posts/project-euler/problem-4-largest-palindrome-product.html">Comments</a>


        </p>
</div>
    </header>
    <div class="p-summary entry-summary">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Project-Euler---Problem-4">Project Euler - Problem 4<a class="anchor-link" href="project-euler/problem-4-largest-palindrome-product.html#Project-Euler---Problem-4">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A palindromic number reads the same both ways. The largest palindrome made from the product of two 2-digit numbers is 9009 = 91 × 99.</p>
<p>Find the largest palindrome made from the product of two 3-digit numbers.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">is_palindrome</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span> <span class="o">==</span> <span class="n">s</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">num_is_palindrome</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">is_palindrome</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">max</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="n">num_is_palindrome</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1000</span><span class="p">))))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[22]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>906609</pre>
</div>

</div>

</div>
</div>

</div>
    </div>
  </div>

    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="project-euler/problem-3-largest-prime-factor.html" class="u-url">Project Euler Problem 3: Largest prime factor</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Louis Tiao</span></p>
            <p class="dateline"><a href="project-euler/problem-3-largest-prime-factor.html" rel="bookmark"><time class="published dt-published" datetime="2015-04-03T14:32:53+11:00" itemprop="datePublished" title="Publication date">2015-04-03 14:32</time></a></p>
                <p class="commentline">            <a href="project-euler/problem-3-largest-prime-factor.html#disqus_thread" data-disqus-identifier="cache/posts/project-euler/problem-3-largest-prime-factor.html">Comments</a>


        </p>
</div>
    </header>
    <div class="p-summary entry-summary">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Project-Euler---Problem-3">Project Euler - Problem 3<a class="anchor-link" href="project-euler/problem-3-largest-prime-factor.html#Project-Euler---Problem-3">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The prime factors of 13195 are 5, 7, 13 and 29.</p>
<p>What is the largest prime factor of the number 600851475143 ?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-1---Inefficient-Trial-Division">Version 1 - Inefficient Trial Division<a class="anchor-link" href="project-euler/problem-3-largest-prime-factor.html#Version-1---Inefficient-Trial-Division">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>First a function to generate <em>all</em> factors. We need only test candidate factors up to $n$.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">factors</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="ow">not</span> <span class="n">n</span> <span class="o">%</span> <span class="n">x</span><span class="p">,</span> <span class="n">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">factors</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[23]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[1, 2, 3, 4, 6, 8, 12, 24]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This isn't really that helpful, since we are only interested in <em>prime</em> factors. While we can implement a primality predicate and filter out composites numbers, it isn't particularly efficient. Let's rethink our approach.</p>
<p>Instead of iterating over all integers up to $n$, we can just iterate over the prime numbers. But first we'll need a prime number generator. The simple <a href="http://en.wikipedia.org/wiki/Sieve_of_Eratosthenes">Sieve of Eratosthenes</a> (250s BCE) seems like a good place to start.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-2---Trial-Division-with-Prime-Number-Sieve">Version 2 - Trial Division with Prime Number Sieve<a class="anchor-link" href="project-euler/problem-3-largest-prime-factor.html#Version-2---Trial-Division-with-Prime-Number-Sieve">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">_prime_sieve_eratosthenes</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">composites</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">composites</span><span class="p">:</span> 
            <span class="k">yield</span> <span class="n">i</span>
            <span class="n">composites</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">xrange</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">i</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">list</span><span class="p">(</span><span class="n">_prime_sieve_eratosthenes</span><span class="p">(</span><span class="mi">47</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[10]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">list</span><span class="p">(</span><span class="n">_prime_sieve_eratosthenes</span><span class="p">(</span><span class="mi">15</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[11]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[2, 3, 5, 7, 11, 13]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that this function returns a list of all prime numbers strictly below $n$, so even if $n$ is prime, it will not be included.</p>
<p>Of course, there are <a href="http://stackoverflow.com/a/568618/1924843">ways</a> to optimize this implementation, but this will do for now.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">prime_sieve</span> <span class="o">=</span> <span class="n">_prime_sieve_eratosthenes</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that we need not inspect all primes up to $n$, but only those up to $\sqrt{n}$. To see why, let's assume $p \times q = n$ and that $p &gt; \sqrt{n}$. It cannot be the case that $q &gt; p$, since that would imply $n = p \times q &gt; p^2 &gt; n$. But if $q \leq p$ and $q$ divides $n$, then it would have been detected earlier anyways. Therefore, we need only consider $p \leq \sqrt{n} \Leftrightarrow p^2 \leq n$, where we have equality if $n$ is a perfect square.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">Counter</span>

<span class="k">def</span> <span class="nf">prime_factors</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span> 
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">'Requires positive integer'</span><span class="p">)</span> 
    <span class="k">elif</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">'1 is neither prime nor composite and has no prime factors'</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">prime_factors_</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">prime_sieve</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mf">0.5</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">while</span> <span class="n">n</span> <span class="o">%</span> <span class="n">p</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">prime_factors_</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">n</span> <span class="o">/=</span> <span class="n">p</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span> <span class="c"># n has no further prime factors</span>
            <span class="n">prime_factors_</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">prime_factors_</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In accodance with the above, the last element of <code>prime_sieve(int(n**0.5)+1)</code> will be the largest prime $p$ such that $p 

</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [137]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">prime_factors</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[137]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({2: 3})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [138]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">prime_factors</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[138]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({3: 1, 5: 1})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [139]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">prime_factors</span><span class="p">(</span><span class="mi">47</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[139]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({47: 1})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [140]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">prime_factors</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[140]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({2: 1})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [141]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">prime_factors</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>
<span class="ansired">---------------------------------------------------------------------------</span>
<span class="ansired">ValueError</span>                                Traceback (most recent call last)
<span class="ansigreen">&lt;ipython-input-141-521428771923&gt;</span> in <span class="ansicyan">&lt;module&gt;</span><span class="ansiblue">()</span>
<span class="ansigreen">----&gt; 1</span><span class="ansired"> </span>prime_factors<span class="ansiblue">(</span><span class="ansicyan">1</span><span class="ansiblue">)</span><span class="ansiblue"></span>

<span class="ansigreen">&lt;ipython-input-136-2b1542fea104&gt;</span> in <span class="ansicyan">prime_factors</span><span class="ansiblue">(n)</span>
<span class="ansigreen">      3</span>         <span class="ansigreen">raise</span> ValueError<span class="ansiblue">(</span><span class="ansiblue">'Requires positive integer'</span><span class="ansiblue">)</span><span class="ansiblue"></span>
<span class="ansigreen">      4</span>     <span class="ansigreen">elif</span> n <span class="ansiblue">==</span> <span class="ansicyan">1</span><span class="ansiblue">:</span><span class="ansiblue"></span>
<span class="ansigreen">----&gt; 5</span><span class="ansired">         </span><span class="ansigreen">raise</span> ValueError<span class="ansiblue">(</span><span class="ansiblue">'1 is neither prime nor composite and has no prime factors'</span><span class="ansiblue">)</span><span class="ansiblue"></span>
<span class="ansigreen">      6</span>     <span class="ansigreen">else</span><span class="ansiblue">:</span><span class="ansiblue"></span>
<span class="ansigreen">      7</span>         prime_factors_ <span class="ansiblue">=</span> Counter<span class="ansiblue">(</span><span class="ansiblue">)</span><span class="ansiblue"></span>

<span class="ansired">ValueError</span>: 1 is neither prime nor composite and has no prime factors</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [146]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">prime_factors</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[146]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({2: 1, 3: 1})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [145]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">prime_factors</span><span class="p">(</span><span class="mi">1883</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[145]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({269: 1, 7: 1})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [147]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">prime_factors</span><span class="p">(</span><span class="mi">13195</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[147]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({29: 1, 13: 1, 5: 1, 7: 1})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [148]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">a</span> <span class="o">=</span> <span class="n">prime_factors</span><span class="p">(</span><span class="mi">600851475143</span><span class="p">);</span> <span class="n">a</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[148]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({6857: 1, 839: 1, 1471: 1, 71: 1})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [151]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">max</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[151]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>6857</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that we could have just used a list to keep track of the prime factors, or even a set if we don't care about the number of appearances of each prime factor. However, given that we do, the best option was to use a <code>Counter</code> from Python's <code>collections</code> library. Using it has benefits beyond cleaner code, as we shall see.</p>
<p>Recall that the least common multiple (LCM) and greatest common divisor (GCD) of integers can both be obtained through prime factorization of the integers. For the GCD, this is simply the "intersection" of the prime factors, while for LCM, this is simply the "union".</p>
<p>Thus, we can directly make use of a <code>Counter</code>'s default mathematical operations it supports. Namely, the following:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">c</span> <span class="o">&amp;</span> <span class="n">d</span> <span class="c"># intersection:  min(c[x], d[x])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[4]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({'a': 1, 'b': 1})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">c</span> <span class="o">|</span> <span class="n">d</span> <span class="c"># union:  max(c[x], d[x])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[5]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({'a': 3, 'b': 2})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Therefore, we can directly use <code>prime_factor</code> to implement the <code>lcm</code> and <code>gcd</code> functions.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c"># First lets create a function to reconstruct</span>
<span class="c"># the original integer from its prime factors</span>
<span class="n">reconstruct</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="n">c</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="n">c</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">prime_factors</span><span class="p">(</span><span class="mi">48</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[41]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({2: 4, 3: 1})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [42]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">reconstruct</span><span class="p">(</span><span class="n">prime_factors</span><span class="p">(</span><span class="mi">48</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[42]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>48</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [44]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">reconstruct</span><span class="p">(</span><span class="n">prime_factors</span><span class="p">(</span><span class="mi">165</span><span class="p">))</span> <span class="o">==</span> <span class="mi">165</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[44]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Looking good. Now let's implement <code>lcm</code> and <code>gcd</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">lcm</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">*</span><span class="n">ns</span><span class="p">:</span> <span class="n">reconstruct</span><span class="p">(</span><span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">:</span> <span class="n">n</span> <span class="o">|</span> <span class="n">m</span><span class="p">,</span> <span class="nb">map</span><span class="p">(</span><span class="n">prime_factors</span><span class="p">,</span> <span class="n">ns</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">gcd</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">*</span><span class="n">ns</span><span class="p">:</span> <span class="n">reconstruct</span><span class="p">(</span><span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">:</span> <span class="n">n</span> <span class="o">&amp;</span> <span class="n">m</span><span class="p">,</span> <span class="nb">map</span><span class="p">(</span><span class="n">prime_factors</span><span class="p">,</span> <span class="n">ns</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">lcm</span><span class="p">(</span><span class="mi">48</span><span class="p">,</span> <span class="mi">180</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[39]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>720</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [40]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">gcd</span><span class="p">(</span><span class="mi">48</span><span class="p">,</span> <span class="mi">180</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[40]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>12</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To walk through what this is doing:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [47]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">c</span> <span class="o">=</span> <span class="n">prime_factors</span><span class="p">(</span><span class="mi">48</span><span class="p">);</span> <span class="n">c</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[47]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({2: 4, 3: 1})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [48]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">d</span> <span class="o">=</span> <span class="n">prime_factors</span><span class="p">(</span><span class="mi">180</span><span class="p">);</span> <span class="n">d</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[48]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({2: 2, 3: 2, 5: 1})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [49]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">c</span> <span class="o">|</span> <span class="n">d</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[49]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({2: 4, 3: 2, 5: 1})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [50]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">c</span> <span class="o">&amp;</span> <span class="n">d</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[50]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({2: 2, 3: 1})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [51]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">reconstruct</span><span class="p">(</span><span class="n">c</span> <span class="o">|</span> <span class="n">d</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[51]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>720</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [52]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">reconstruct</span><span class="p">(</span><span class="n">c</span> <span class="o">&amp;</span> <span class="n">d</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[52]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>12</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>All done! We must note, however, that since our integer factorization isn't particularly efficient, and even worse, that there is no known general efficient algorithm for integer factorization, this is not the best way to compute the <code>gcd</code> and <code>lcm</code> for large numbers. I only implement it like this here to demonstrate further applications of <code>prime_factors</code> by taking advantage of Python's <code>Counter</code>. Note that the <code>lcm</code> can be obtained by having the <code>gcd</code> and there are many efficient algorithms for computing the <code>gcd</code>, such as the Euclidean algorithm. We shall implement them later.</p>

</div>
</div>
</div>
    </div>
  </div>

    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="project-euler/problem-2-fibonacci-numbers.html" class="u-url">Project Euler Problem 2: Fibonacci Numbers</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Louis Tiao</span></p>
            <p class="dateline"><a href="project-euler/problem-2-fibonacci-numbers.html" rel="bookmark"><time class="published dt-published" datetime="2015-04-03T14:32:28+11:00" itemprop="datePublished" title="Publication date">2015-04-03 14:32</time></a></p>
                <p class="commentline">            <a href="project-euler/problem-2-fibonacci-numbers.html#disqus_thread" data-disqus-identifier="cache/posts/project-euler/problem-2-fibonacci-numbers.html">Comments</a>


        </p>
</div>
    </header>
    <div class="p-summary entry-summary">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Project-Euler---Problem-2">Project Euler - Problem 2<a class="anchor-link" href="project-euler/problem-2-fibonacci-numbers.html#Project-Euler---Problem-2">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:</p>
<p>1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...</p>
<p>By considering the terms in the Fibonacci sequence whose values do not exceed four million, find the sum of the even-valued terms.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Version-1:-The-obvious-but-inefficient-way">Version 1: The obvious but inefficient way<a class="anchor-link" href="project-euler/problem-2-fibonacci-numbers.html#Version-1:-The-obvious-but-inefficient-way">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">itertools</span> <span class="k">import</span> <span class="n">takewhile</span>

<span class="k">def</span> <span class="nf">fibonacci</span><span class="p">():</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="k">True</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">a</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">sum</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">%</span><span class="k">2</span>==0, takewhile(lambda x: x &lt;= 4*10**6, fibonacci())))
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[23]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>4613732</pre>
</div>

</div>

</div>
</div>

</div>
    </div>
  </div>

    </div>
    </article>
</div>
        <nav class="postindexpager">
        <ul class="pager">
            <li class="next">
                <a href="index-1.html" rel="next">Older posts</a>
            </li>
        </ul>
        </nav>

               <script>var disqus_shortname="ltiao";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>


                </div>
                <!--End of body content-->
            </div>
        </div> <!-- ./col -->
    </div> <!-- ./row -->  
</div> <!-- ./container -->

<footer class="footer">
    <div class="container">
        <p class="text-muted">
            Contents © 2015         <a href="mailto:louistiao@me.com">Louis Tiao</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
            
        </p>
    </div>
</footer>

            <script src="../assets/js/all-nocdn.js"></script>
    
<!-- Social buttons -->
<div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
<a class="addthis_button_more">Share</a>
<ul>
<li>
<a class="addthis_button_facebook"></a>
</li>
<li>
<a class="addthis_button_google_plusone_share"></a>
</li>
<li>
<a class="addthis_button_linkedin"></a>
</li>
<li>
<a class="addthis_button_twitter"></a>
</li>
</ul>
</div>
<script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script>
<!-- End of social buttons -->


    <script>$('a.image-reference:not(.islink)').colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>
    <!-- fancy dates -->
    <script>
    moment.locale("");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script>
    <!-- end fancy dates -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43722566-1', 'auto');
  ga('send', 'pageview');

</script>


</body>
</html>
